    grf {
        grfid                              :"KLTS"; 
        name                               :string(STR_GRF_NAME);
        desc                               :string(STR_GRF_DESC);
        url                                :string(STR_GRF_URL);
        version                            :250206;
        min_compatible_version             :250204;

        // Parameters
            param  0    {
                para_speed_power {
                    type:       int;
                    name:       string(STR_PARA_NAME_SPEED_POWER);
                    desc:       string(STR_PARA_DESC_SPEED_POWER);
                    min_value:  2;
                    max_value:  4;
                    def_value:  2;
                        
                    names: {
                        2:      string(STR_PARA_SPEED_POWER_OPT_1);
                        3:      string(STR_PARA_SPEED_POWER_OPT_1_5);
                        4:      string(STR_PARA_SPEED_POWER_OPT_2);
                    };
                }
            }
    }

// Tables
    cargotable {
        // TTD https://newgrf-specs.tt-wiki.net/wiki/CargoTypes#Cargo_Labels
            PASS, COAL, MAIL, OIL_, LVST, GOOD, GRAI, WOOD, IORE, STEL, VALU, PAPR, WHEA, FOOD, GOLD, RUBR,
            FRUT, MAIZ, CORE, WATR, DIAM, SUGR,

        // Toys
            BATT, BUBL, COLA, CTCD, FZDR, PLST, SWET, TOFF, TOYS,

        // FIRS 4.15.1~ https://grf.farm/firs/4.15.1/html/get_started.html
            AORE, BDMT, BEAN, BEER, BOOM, CBLK, CLAY, CMNT, COPR, CSTI, CTAR, ENSP, FECR, FERT, FICR, FISH,
            FMSP, FRVL, GRVL, JAVA, KAOL, MILK, PEAT, PETR, PHOS, PORE, POTA, RFPR, SAND, SCMT, SULP, TYRE,  
            VEHI, WDPR, WOOL, ZINC, ACID, ALUM, CASS, CHLO, COAT, COKE, EOIL, IRON, LYE_, METL, MNO2, MNSP, 
            NH3_, NUTS, NITR, NKOR, O2__, PIPE, POWR, QLME, RCYC, SALT, SASH, SGBT, SGCN, SLAG, SOAP, STAL,  
            STCB, STSE, STSH, STST, STWR, VBOD, VENG, VPTS,
        
            PLAS, LIME
    }

    railtypetable {
        RAIL, ELRL, KRNR
    }

// Templates & General Swithes
    template tmpl_purchase(x, y) {
        [x,      y,   75,     15,   -39,   -9]
    }

    template tmpl_vehicle(x, y) {
        [x,      y,     8,    34,    -3,  -18] // ↑
        [x+20,   y,    29,    24,   -17,  -14] // ↗
        [x+60,   y,    48,    15,   -24,  -11] // →
        [x+120,  y,    29,    24,   -10,  -14] // ↘
        [x+160,  y,     8,    34,    -3,  -18] // ↓
        [x+180,  y,    29,    24,   -17,  -14] // ↙
        [x+220,  y,    48,    15,   -24,  -11] // ←
        [x+280,  y,    29,    24,   -10,  -14] // ↖
    }

    template tmpl_vehicle_empty(x, y) {
        [x,      y,     1,     1,     0,    0] // ↑
        [x,      y,     1,     1,     0,    0] // ↗
        [x,      y,     1,     1,     0,    0] // →
        [x,      y,     1,     1,     0,    0] // ↘
        [x,      y,     1,     1,     0,    0] // ↓
        [x,      y,     1,     1,     0,    0] // ↙
        [x,      y,     1,     1,     0,    0] // ←
        [x,      y,     1,     1,     0,    0] // ↖
    }

    spriteset(set_vehicle_empty, "./Korean_Longer_Train_Set/gfx/LONGER_BIDULGI_CAR.png"){
        tmpl_vehicle_empty(80, 0)
    }

// Passenger Wagons
    // BIDULGI_MILDSTEAL_CAR
        // Graphics
            spriteset(set_LONGER_BIDULGI_MILDSTEAL_CAR_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_BIDULGI_CAR.png") {
                tmpl_purchase(0, 0)
            }

            spriteset(set_graphic_LONGER_BIDULGI_MILDSTEAL_PASS_A_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_BIDULGI_CAR.png"){
                tmpl_vehicle(80, 0)
            }

            spriteset(set_graphic_LONGER_BIDULGI_MILDSTEAL_PASS_B_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_BIDULGI_CAR.png"){
                tmpl_vehicle(80, 40)
            }

            spriteset(set_graphic_LONGER_BIDULGI_MILDSTEAL_PASS_C_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_BIDULGI_CAR.png"){
                tmpl_vehicle(80, 80)
            }

        // Switches
            switch(FEAT_TRAINS, SELF, sw_random_graphic_LONGER_BIDULGI_MILDSTEAL_PASS_CAR, random_bits % 3) {  
                1: set_graphic_LONGER_BIDULGI_MILDSTEAL_PASS_A_CAR;
                2: set_graphic_LONGER_BIDULGI_MILDSTEAL_PASS_B_CAR;
                set_graphic_LONGER_BIDULGI_MILDSTEAL_PASS_C_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_BIDULGI_MILDSTEAL_CAR, position_in_articulated_veh) {
                1: sw_random_graphic_LONGER_BIDULGI_MILDSTEAL_PASS_CAR;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_BIDULGI_MILDSTEAL_CAR, position_in_articulated_veh) {
                1: 100;
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_BIDULGI_MILDSTEAL_CAR, position_in_articulated_veh) {
                1: 8;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_BIDULGI_MILDSTEAL_CAR, extra_callback_info1) {
                1..2: return ko_LONGER_BIDULGI_MILDSTEAL_CAR; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_BIDULGI_MILDSTEAL_CAR, 6002) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_BIDULGI_CAR);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1984, 1, 1);
                    track_type:                     RAIL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;

                    // Spec
                    speed:                          110 km/h;
                    weight:                         26 ton;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 100/3;
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    80;
                    running_cost_base:              RUNNING_COST_NONE;
                    //running_cost_factor:          64;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_BIDULGI_MILDSTEAL_CAR;
                    articulated_part:               sw_articulated_LONGER_BIDULGI_MILDSTEAL_CAR;
                    length:                         sw_length_LONGER_BIDULGI_MILDSTEAL_CAR;
                    cargo_capacity:                 sw_capacity_LONGER_BIDULGI_MILDSTEAL_CAR;
                    purchase:                       set_LONGER_BIDULGI_MILDSTEAL_CAR_purchase;
                    purchase_cargo_capacity:        set_LONGER_BIDULGI_MILDSTEAL_CAR_purchase;

                    additional_text:                string(STR_ADDITIONAL_LONGER_BIDULGI_MILDSTEAL_CAR);
                }
            }

    // BIDULGI_KNR_CAR
        // Graphics
            spriteset(set_LONGER_BIDULGI_KNR_CAR_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_BIDULGI_CAR.png") {
                tmpl_purchase(0, 120)
            }

            spriteset(set_graphic_LONGER_BIDULGI_PASS_A_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_BIDULGI_CAR.png"){
                tmpl_vehicle(80, 120)
            }

            spriteset(set_graphic_LONGER_BIDULGI_PASS_B_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_BIDULGI_CAR.png"){
                tmpl_vehicle(80, 160)
            }

        // Switches
            switch(FEAT_TRAINS, SELF, sw_random_graphic_LONGER_BIDULGI_PASS_CAR, random_bits % 3) {  
                1..2: set_graphic_LONGER_BIDULGI_PASS_A_CAR;
                set_graphic_LONGER_BIDULGI_PASS_B_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_BIDULGI_KNR_CAR, position_in_articulated_veh) {
                1: sw_random_graphic_LONGER_BIDULGI_PASS_CAR;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_BIDULGI_KNR_CAR, position_in_articulated_veh) {
                1: 100;
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_BIDULGI_KNR_CAR, position_in_articulated_veh) {
                1: 8;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_BIDULGI_KNR_CAR, extra_callback_info1) {
                1..2: return ko_LONGER_BIDULGI_KNR_CAR; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_BIDULGI_KNR_CAR, 6003) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_BIDULGI_CAR);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1996, 1, 1);
                    track_type:                     RAIL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    variant_group:                  ko_LONGER_BIDULGI_MILDSTEAL_CAR;

                    // Spec
                    speed:                          110 km/h;
                    weight:                         26 ton;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 100/3;
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    80;
                    running_cost_base:              RUNNING_COST_NONE;
                    //running_cost_factor:          64;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_BIDULGI_KNR_CAR;
                    articulated_part:               sw_articulated_LONGER_BIDULGI_KNR_CAR;
                    length:                         sw_length_LONGER_BIDULGI_KNR_CAR;
                    cargo_capacity:                 sw_capacity_LONGER_BIDULGI_KNR_CAR;
                    purchase:                       set_LONGER_BIDULGI_KNR_CAR_purchase;
                    purchase_cargo_capacity:        set_LONGER_BIDULGI_KNR_CAR_purchase;

                    additional_text:                string(STR_ADDITIONAL_LONGER_BIDULGI_KNR_CAR);
                }
            }

    // TONGIL_MILDSTEAL_CAR
        // Graphics
            spriteset(set_LONGER_TONGIL_MILDSTEAL_CAR_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_TONGIL_CAR.png") {
                tmpl_purchase(0, 0)
            }

            spriteset(set_graphic_LONGER_TONGIL_MILDSTEAL_PASS_A_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_TONGIL_CAR.png"){
                tmpl_vehicle(80, 0)
            }

            spriteset(set_graphic_LONGER_TONGIL_MILDSTEAL_PASS_B_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_TONGIL_CAR.png"){
                tmpl_vehicle(80, 40)
            }

            spriteset(set_graphic_LONGER_TONGIL_MILDSTEAL_GENE_CAR_A, "./Korean_Longer_Train_Set/gfx/LONGER_TONGIL_CAR.png"){
                tmpl_vehicle(80, 80)
            }

            spriteset(set_graphic_LONGER_TONGIL_MILDSTEAL_GENE_CAR_B, "./Korean_Longer_Train_Set/gfx/LONGER_TONGIL_CAR.png"){
                tmpl_vehicle(80, 120)
            }

        // Switches
            switch(FEAT_TRAINS, SELF, sw_random_graphic_LONGER_TONGIL_MILDSTEAL_PASS_CAR, random_bits % 2) {  
                1: set_graphic_LONGER_TONGIL_MILDSTEAL_PASS_A_CAR;
                set_graphic_LONGER_TONGIL_MILDSTEAL_PASS_B_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_TONGIL_MILDSTEAL_PASS_CAR, num_vehs_in_vehid_chain / 3 ) {
                sw_random_graphic_LONGER_TONGIL_MILDSTEAL_PASS_CAR;
            }

            switch(FEAT_TRAINS, SELF, sw_random_graphic_LONGER_TONGIL_MILDSTEAL_GENE_CAR, random_bits % 3) {  
                1: set_graphic_LONGER_TONGIL_MILDSTEAL_GENE_CAR_A;
                set_graphic_LONGER_TONGIL_MILDSTEAL_GENE_CAR_B;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_TONGIL_MILDSTEAL_GENE_CAR, num_vehs_in_vehid_chain / 3 ) {
                sw_random_graphic_LONGER_TONGIL_MILDSTEAL_GENE_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_general_LONGER_TONGIL_MILDSTEAL_CAR, position_in_vehid_chain_from_end) {
                1: sw_graphic_LONGER_TONGIL_MILDSTEAL_GENE_CAR;
                sw_graphic_LONGER_TONGIL_MILDSTEAL_PASS_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_TONGIL_MILDSTEAL_CAR, position_in_vehid_chain % 3) {
                1: sw_graphic_general_LONGER_TONGIL_MILDSTEAL_CAR;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_front_LONGER_TONGIL_MILDSTEAL_CAR, num_vehs_in_vehid_chain / 3 ) {
                72;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_general_LONGER_TONGIL_MILDSTEAL_CAR, position_in_vehid_chain_from_end) {
                1: 0;
                sw_capacity_front_LONGER_TONGIL_MILDSTEAL_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_TONGIL_MILDSTEAL_CAR, position_in_vehid_chain % 3) {
                1: sw_capacity_general_LONGER_TONGIL_MILDSTEAL_CAR;
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_front_LONGER_TONGIL_MILDSTEAL_CAR, num_vehs_in_vehid_chain / 3 ) { // 나머지 전부 길이 8
                8;
            }

            switch (FEAT_TRAINS, SELF, sw_length_general_LONGER_TONGIL_MILDSTEAL_CAR, position_in_vehid_chain_from_end) { // 끝에서 첫째 차량 발전차; 나머지는 다음으로 넘김
                1: 4;
                sw_length_front_LONGER_TONGIL_MILDSTEAL_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_TONGIL_MILDSTEAL_CAR, position_in_vehid_chain % 3) { // 3칸씩 반복; 가운데를 뺀 나머지는 2
                1: sw_length_general_LONGER_TONGIL_MILDSTEAL_CAR;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_TONGIL_MILDSTEAL_CAR, extra_callback_info1) {
                1..2: return ko_LONGER_TONGIL_MILDSTEAL_CAR; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_TONGIL_MILDSTEAL_CAR, 6011) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_TONGIL_CAR);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1984, 1, 1);
                    track_type:                     RAIL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;

                    // Spec
                    speed:                          121*(para_speed_power)/2 km/h;
                    weight:                         17 ton;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 72/3;
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    80;
                    running_cost_base:              RUNNING_COST_NONE;
                    //running_cost_factor:          64;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_TONGIL_MILDSTEAL_CAR;
                    articulated_part:               sw_articulated_LONGER_TONGIL_MILDSTEAL_CAR;
                    length:                         sw_length_LONGER_TONGIL_MILDSTEAL_CAR;
                    cargo_capacity:                 sw_capacity_LONGER_TONGIL_MILDSTEAL_CAR;
                    purchase:                       set_LONGER_TONGIL_MILDSTEAL_CAR_purchase;
                    purchase_cargo_capacity:        set_LONGER_TONGIL_MILDSTEAL_CAR_purchase;

                    additional_text:                string(STR_ADDITIONAL_LONGER_TONGIL_MILDSTEAL_CAR);
                }
            }

    // TONGIL_KNR_NAVY_CAR
        // Graphics
            spriteset(set_LONGER_TONGIL_KNR_NAVY_CAR_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_TONGIL_CAR.png") {
                tmpl_purchase(0, 160)
            }

            spriteset(set_graphic_LONGER_TONGIL_KNR_NAVY_PASS_A_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_TONGIL_CAR.png"){
                tmpl_vehicle(80, 160)
            }

            spriteset(set_graphic_LONGER_TONGIL_KNR_NAVY_PASS_B_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_TONGIL_CAR.png"){
                tmpl_vehicle(80, 200)
            }

            spriteset(set_graphic_LONGER_TONGIL_KNR_NAVY_GENE_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_TONGIL_CAR.png"){
                tmpl_vehicle(80, 240)
            }

        // Switches
            switch(FEAT_TRAINS, SELF, sw_random_graphic_LONGER_TONGIL_KNR_NAVY_PASS_CAR, random_bits % 3) {  
                1..2: set_graphic_LONGER_TONGIL_KNR_NAVY_PASS_A_CAR;
                set_graphic_LONGER_TONGIL_KNR_NAVY_PASS_B_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_TONGIL_KNR_NAVY_PASS_CAR, num_vehs_in_vehid_chain / 3 ) {
                sw_random_graphic_LONGER_TONGIL_KNR_NAVY_PASS_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_TONGIL_KNR_NAVY_GENE_CAR, num_vehs_in_vehid_chain / 3 ) {
                set_graphic_LONGER_TONGIL_KNR_NAVY_GENE_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_general_LONGER_TONGIL_KNR_NAVY_CAR, position_in_vehid_chain_from_end) {
                1: sw_graphic_LONGER_TONGIL_KNR_NAVY_GENE_CAR;
                sw_graphic_LONGER_TONGIL_KNR_NAVY_PASS_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_TONGIL_KNR_NAVY_CAR, position_in_vehid_chain % 3) {
                1: sw_graphic_general_LONGER_TONGIL_KNR_NAVY_CAR;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_front_LONGER_TONGIL_KNR_NAVY_CAR, num_vehs_in_vehid_chain / 3 ) {
                72;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_general_LONGER_TONGIL_KNR_NAVY_CAR, position_in_vehid_chain_from_end) {
                1: 0;
                sw_capacity_front_LONGER_TONGIL_KNR_NAVY_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_TONGIL_KNR_NAVY_CAR, position_in_vehid_chain % 3) {
                1: sw_capacity_general_LONGER_TONGIL_KNR_NAVY_CAR;
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_front_LONGER_TONGIL_KNR_NAVY_CAR, num_vehs_in_vehid_chain / 3 ) { // 나머지 전부 길이 8
                8;
            }

            switch (FEAT_TRAINS, SELF, sw_length_general_LONGER_TONGIL_KNR_NAVY_CAR, position_in_vehid_chain_from_end) { // 끝에서 첫째 차량 발전차; 나머지는 다음으로 넘김
                1: 4;
                sw_length_front_LONGER_TONGIL_KNR_NAVY_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_TONGIL_KNR_NAVY_CAR, position_in_vehid_chain % 3) { // 3칸씩 반복; 가운데를 뺀 나머지는 2
                1: sw_length_general_LONGER_TONGIL_KNR_NAVY_CAR;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_TONGIL_KNR_NAVY_CAR, extra_callback_info1) {
                1..2: return ko_LONGER_TONGIL_KNR_NAVY_CAR; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_TONGIL_KNR_NAVY_CAR, 6012) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_TONGIL_CAR);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1990, 1, 1);
                    track_type:                     RAIL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    variant_group:                  ko_LONGER_TONGIL_MILDSTEAL_CAR;

                    // Spec
                    speed:                          121*(para_speed_power)/2 km/h;
                    weight:                         17 ton;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 72/3;
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    80;
                    running_cost_base:              RUNNING_COST_NONE;
                    //running_cost_factor:          64;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_TONGIL_KNR_NAVY_CAR;
                    articulated_part:               sw_articulated_LONGER_TONGIL_KNR_NAVY_CAR;
                    length:                         sw_length_LONGER_TONGIL_KNR_NAVY_CAR;
                    cargo_capacity:                 sw_capacity_LONGER_TONGIL_KNR_NAVY_CAR;
                    purchase:                       set_LONGER_TONGIL_KNR_NAVY_CAR_purchase;
                    purchase_cargo_capacity:        set_LONGER_TONGIL_KNR_NAVY_CAR_purchase;

                    additional_text:                string(STR_ADDITIONAL_LONGER_TONGIL_KNR_NAVY_CAR);
                }
            }

    // TONGIL_KNR_GREEN_CAR
        // Graphics
            spriteset(set_LONGER_TONGIL_KNR_GREEN_CAR_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_TONGIL_CAR.png") {
                tmpl_purchase(0, 280)
            }

            spriteset(set_graphic_LONGER_TONGIL_KNR_GREEN_PASS_A_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_TONGIL_CAR.png"){
                tmpl_vehicle(80, 280)
            }

            spriteset(set_graphic_LONGER_TONGIL_KNR_GREEN_PASS_B_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_TONGIL_CAR.png"){
                tmpl_vehicle(80, 320)
            }

            spriteset(set_graphic_LONGER_TONGIL_KNR_GREEN_GENE_A_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_TONGIL_CAR.png"){
                tmpl_vehicle(80, 360)
            }

            spriteset(set_graphic_LONGER_TONGIL_KNR_GREEN_GENE_B_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_TONGIL_CAR.png"){
                tmpl_vehicle(80, 400)
            }

        // Switches
            switch(FEAT_TRAINS, SELF, sw_random_graphic_LONGER_TONGIL_KNR_GREEN_PASS_CAR, random_bits % 3) {  
                1..2: set_graphic_LONGER_TONGIL_KNR_GREEN_PASS_A_CAR;
                set_graphic_LONGER_TONGIL_KNR_GREEN_PASS_B_CAR;
            }

            switch(FEAT_TRAINS, SELF, sw_random_graphic_LONGER_TONGIL_KNR_GREEN_GENE_CAR, random_bits % 2) {  
                1: set_graphic_LONGER_TONGIL_KNR_GREEN_GENE_A_CAR;
                set_graphic_LONGER_TONGIL_KNR_GREEN_GENE_B_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_TONGIL_KNR_GREEN_PASS_CAR, num_vehs_in_vehid_chain / 3 ) {
                sw_random_graphic_LONGER_TONGIL_KNR_GREEN_PASS_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_TONGIL_KNR_GREEN_GENE_CAR, num_vehs_in_vehid_chain / 3 ) {
                sw_random_graphic_LONGER_TONGIL_KNR_GREEN_GENE_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_general_LONGER_TONGIL_KNR_GREEN_CAR, position_in_vehid_chain_from_end) {
                1: sw_graphic_LONGER_TONGIL_KNR_GREEN_GENE_CAR;
                sw_graphic_LONGER_TONGIL_KNR_GREEN_PASS_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_TONGIL_KNR_GREEN_CAR, position_in_vehid_chain % 3) {
                1: sw_graphic_general_LONGER_TONGIL_KNR_GREEN_CAR;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_front_LONGER_TONGIL_KNR_GREEN_CAR, num_vehs_in_vehid_chain / 3 ) {
                72;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_general_LONGER_TONGIL_KNR_GREEN_CAR, position_in_vehid_chain_from_end) {
                1: 0;
                sw_capacity_front_LONGER_TONGIL_KNR_GREEN_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_TONGIL_KNR_GREEN_CAR, position_in_vehid_chain % 3) {
                1: sw_capacity_general_LONGER_TONGIL_KNR_GREEN_CAR;
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_front_LONGER_TONGIL_KNR_GREEN_CAR, num_vehs_in_vehid_chain / 3 ) { // 나머지 전부 길이 8
                8;
            }

            switch(FEAT_TRAINS, SELF, sw_random_length_LONGER_TONGIL_KNR_GREEN_GENE_CAR, random_bits % 2) {  
                1: 4;
                6;
            }

            switch (FEAT_TRAINS, SELF, sw_length_general_LONGER_TONGIL_KNR_GREEN_CAR, position_in_vehid_chain_from_end) { // 끝에서 첫째 차량 발전차; 나머지는 다음으로 넘김
                1: sw_random_length_LONGER_TONGIL_KNR_GREEN_GENE_CAR;
                sw_length_front_LONGER_TONGIL_KNR_GREEN_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_TONGIL_KNR_GREEN_CAR, position_in_vehid_chain % 3) { // 3칸씩 반복; 가운데를 뺀 나머지는 2
                1: sw_length_general_LONGER_TONGIL_KNR_GREEN_CAR;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_TONGIL_KNR_GREEN_CAR, extra_callback_info1) {
                1..2: return ko_LONGER_TONGIL_KNR_GREEN_CAR; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_TONGIL_KNR_GREEN_CAR, 6013) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_TONGIL_CAR);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1996, 1, 1);
                    track_type:                     RAIL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    variant_group:                  ko_LONGER_TONGIL_MILDSTEAL_CAR;

                    // Spec
                    speed:                          121*(para_speed_power)/2 km/h;
                    weight:                         17 ton;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 72/3;
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    80;
                    running_cost_base:              RUNNING_COST_NONE;
                    //running_cost_factor:          64;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_TONGIL_KNR_GREEN_CAR;
                    articulated_part:               sw_articulated_LONGER_TONGIL_KNR_GREEN_CAR;
                    length:                         sw_length_LONGER_TONGIL_KNR_GREEN_CAR;
                    cargo_capacity:                 sw_capacity_LONGER_TONGIL_KNR_GREEN_CAR;
                    purchase:                       set_LONGER_TONGIL_KNR_GREEN_CAR_purchase;
                    purchase_cargo_capacity:        set_LONGER_TONGIL_KNR_GREEN_CAR_purchase;

                    additional_text:                string(STR_ADDITIONAL_LONGER_TONGIL_KNR_GREEN_CAR);
                }
            }

    // MUGUNGHWA_MILDSTEAL_CAR
        // Graphics
            spriteset(set_LONGER_MUGUNGHWA_MILDSTEAL_CAR_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_MUGUNGHWA_CAR.png") {
                tmpl_purchase(0, 0)
            }

            spriteset(set_graphic_LONGER_MUGUNGHWA_MILDSTEAL_PASSENGER_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_MUGUNGHWA_CAR.png"){
                tmpl_vehicle(80, 0)
            }

            spriteset(set_graphic_LONGER_MUGUNGHWA_MILDSTEAL_DINING_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_MUGUNGHWA_CAR.png"){
                tmpl_vehicle(80, 40)
            }

            spriteset(set_graphic_LONGER_MUGUNGHWA_MILDSTEAL_GENERATOR_CAR_A, "./Korean_Longer_Train_Set/gfx/LONGER_MUGUNGHWA_CAR.png"){
                tmpl_vehicle(80, 80)
            }

            spriteset(set_graphic_LONGER_MUGUNGHWA_MILDSTEAL_GENERATOR_CAR_B, "./Korean_Longer_Train_Set/gfx/LONGER_MUGUNGHWA_CAR.png"){
                tmpl_vehicle(80, 120)
            }

        // Switches
            switch(FEAT_TRAINS, SELF, sw_random_graphic_LONGER_MUGUNGHWA_MILDSTEAL_CAR, random_bits % 6) {  
                1..5: set_graphic_LONGER_MUGUNGHWA_MILDSTEAL_PASSENGER_CAR;
                set_graphic_LONGER_MUGUNGHWA_MILDSTEAL_DINING_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_front_LONGER_MUGUNGHWA_MILDSTEAL_CAR, num_vehs_in_vehid_chain / 3 ) {
                sw_random_graphic_LONGER_MUGUNGHWA_MILDSTEAL_CAR;
            }

            switch(FEAT_TRAINS, SELF, sw_random_graphic_LONGER_MUGUNGHWA_MILDSTEAL_GENERATOR_CAR, random_bits % 3) {  
                1..2: set_graphic_LONGER_MUGUNGHWA_MILDSTEAL_GENERATOR_CAR_A;
                set_graphic_LONGER_MUGUNGHWA_MILDSTEAL_GENERATOR_CAR_B;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_general_LONGER_MUGUNGHWA_MILDSTEAL_CAR, position_in_vehid_chain_from_end) {
                1: sw_random_graphic_LONGER_MUGUNGHWA_MILDSTEAL_GENERATOR_CAR;
                sw_graphic_front_LONGER_MUGUNGHWA_MILDSTEAL_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_MUGUNGHWA_MILDSTEAL_CAR, position_in_vehid_chain % 3) {
                1: sw_graphic_general_LONGER_MUGUNGHWA_MILDSTEAL_CAR;
                set_vehicle_empty;
            }


            switch (FEAT_TRAINS, SELF, sw_capacity_front_LONGER_MUGUNGHWA_MILDSTEAL_CAR, num_vehs_in_vehid_chain / 3 ) {
                72;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_general_LONGER_MUGUNGHWA_MILDSTEAL_CAR, position_in_vehid_chain_from_end) {
                1: 0;
                sw_capacity_front_LONGER_MUGUNGHWA_MILDSTEAL_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_MUGUNGHWA_MILDSTEAL_CAR, position_in_vehid_chain % 3) {
                1: sw_capacity_general_LONGER_MUGUNGHWA_MILDSTEAL_CAR;
                0;
            }


            switch (FEAT_TRAINS, SELF, sw_length_front_LONGER_MUGUNGHWA_MILDSTEAL_CAR, num_vehs_in_vehid_chain / 3 ) { // 나머지 전부 길이 8
                8;
            }

            switch (FEAT_TRAINS, SELF, sw_length_general_LONGER_MUGUNGHWA_MILDSTEAL_CAR, position_in_vehid_chain_from_end) { // 끝에서 첫째 차량 발전차; 나머지는 다음으로 넘김
                1: 4;
                sw_length_front_LONGER_MUGUNGHWA_MILDSTEAL_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_MUGUNGHWA_MILDSTEAL_CAR, position_in_vehid_chain % 3) { // 3칸씩 반복; 가운데를 뺀 나머지는 2
                1: sw_length_general_LONGER_MUGUNGHWA_MILDSTEAL_CAR;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_MUGUNGHWA_MILDSTEAL_CAR, extra_callback_info1) {
                1..2: return ko_LONGER_MUGUNGHWA_MILDSTEAL_CAR; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_MUGUNGHWA_MILDSTEAL_CAR, 6021) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_MUGUNGHWA_CAR);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1984, 1, 1);
                    track_type:                     RAIL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;

                    // Spec
                    weight:                         17 ton;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 72/3;
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    80;
                    running_cost_base:              RUNNING_COST_NONE;
                    //running_cost_factor:          64;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_MUGUNGHWA_MILDSTEAL_CAR;
                    articulated_part:               sw_articulated_LONGER_MUGUNGHWA_MILDSTEAL_CAR;
                    length:                         sw_length_LONGER_MUGUNGHWA_MILDSTEAL_CAR;
                    cargo_capacity:                 sw_capacity_LONGER_MUGUNGHWA_MILDSTEAL_CAR;
                    purchase:                       set_LONGER_MUGUNGHWA_MILDSTEAL_CAR_purchase;
                    purchase_cargo_capacity:        set_LONGER_MUGUNGHWA_MILDSTEAL_CAR_purchase;

                    additional_text:                string(STR_ADDITIONAL_LONGER_MUGUNGHWA_MILDSTEAL_CAR);
                }
            }

    // MUGUNGHWA_RY_CAR
        // Graphics
            spriteset(set_LONGER_MUGUNGHWA_RY_CAR_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_MUGUNGHWA_CAR.png") {
                tmpl_purchase(0, 160)
            }

            spriteset(set_graphic_LONGER_MUGUNGHWA_RY_PASSENGER_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_MUGUNGHWA_CAR.png"){
                tmpl_vehicle(80, 160)
            }

            spriteset(set_graphic_LONGER_MUGUNGHWA_RY_GENERATOR_CAR_A, "./Korean_Longer_Train_Set/gfx/LONGER_MUGUNGHWA_CAR.png"){
                tmpl_vehicle(80, 200)
            }

            spriteset(set_graphic_LONGER_MUGUNGHWA_RY_GENERATOR_CAR_B, "./Korean_Longer_Train_Set/gfx/LONGER_MUGUNGHWA_CAR.png"){
                tmpl_vehicle(80, 240)
            }

            spriteset(set_graphic_LONGER_MUGUNGHWA_RY_GENERATOR_CAR_C, "./Korean_Longer_Train_Set/gfx/LONGER_MUGUNGHWA_CAR.png"){
                tmpl_vehicle(80, 280)
            }

        // Switches
            switch (FEAT_TRAINS, SELF, sw_graphic_front_LONGER_MUGUNGHWA_RY_CAR, num_vehs_in_vehid_chain / 3 ) {
                set_graphic_LONGER_MUGUNGHWA_RY_PASSENGER_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_MUGUNGHWA_RY_GENERATOR_CAR, random_bits % 6) {
                1: set_graphic_LONGER_MUGUNGHWA_RY_GENERATOR_CAR_A;
                2..5: set_graphic_LONGER_MUGUNGHWA_RY_GENERATOR_CAR_B;
                set_graphic_LONGER_MUGUNGHWA_RY_GENERATOR_CAR_C;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_general_LONGER_MUGUNGHWA_RY_CAR, position_in_vehid_chain_from_end) {
                1: sw_graphic_LONGER_MUGUNGHWA_RY_GENERATOR_CAR;
                sw_graphic_front_LONGER_MUGUNGHWA_RY_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_MUGUNGHWA_RY_CAR, position_in_vehid_chain % 3) {
                1: sw_graphic_general_LONGER_MUGUNGHWA_RY_CAR;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_front_LONGER_MUGUNGHWA_RY_CAR, num_vehs_in_vehid_chain / 3 ) {
                72;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_general_LONGER_MUGUNGHWA_RY_CAR, position_in_vehid_chain_from_end) {
                1: 0;
                sw_capacity_front_LONGER_MUGUNGHWA_RY_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_MUGUNGHWA_RY_CAR, position_in_vehid_chain % 3) {
                1: sw_capacity_general_LONGER_MUGUNGHWA_RY_CAR;
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_front_LONGER_MUGUNGHWA_RY_CAR, num_vehs_in_vehid_chain / 3 ) { // 나머지 전부 길이 8
                8;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_MUGUNGHWA_RY_GENERATOR_CAR, random_bits % 6) {
                1..5: 4;
                6;
            }

            switch (FEAT_TRAINS, SELF, sw_length_general_LONGER_MUGUNGHWA_RY_CAR, position_in_vehid_chain_from_end) { // 끝에서 첫째 차량 발전차; 나머지는 다음으로 넘김
                1: sw_length_LONGER_MUGUNGHWA_RY_GENERATOR_CAR;
                sw_length_front_LONGER_MUGUNGHWA_RY_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_MUGUNGHWA_RY_CAR, position_in_vehid_chain % 3) { // 3칸씩 반복; 가운데를 뺀 나머지는 2
                1: sw_length_general_LONGER_MUGUNGHWA_RY_CAR;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_MUGUNGHWA_RY_CAR, extra_callback_info1) {
                1..2: return ko_LONGER_MUGUNGHWA_RY_CAR; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_MUGUNGHWA_RY_CAR, 6022) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_MUGUNGHWA_CAR);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1994, 1, 1);
                    track_type:                     RAIL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    variant_group:                  ko_LONGER_MUGUNGHWA_MILDSTEAL_CAR;

                    // Spec
                    weight:                         17 ton;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 72/3;
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    80;
                    running_cost_base:              RUNNING_COST_NONE;
                    //running_cost_factor:          64;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_MUGUNGHWA_RY_CAR;
                    articulated_part:               sw_articulated_LONGER_MUGUNGHWA_RY_CAR;
                    length:                         sw_length_LONGER_MUGUNGHWA_RY_CAR;
                    cargo_capacity:                 sw_capacity_LONGER_MUGUNGHWA_RY_CAR;
                    purchase:                       set_LONGER_MUGUNGHWA_RY_CAR_purchase;
                    purchase_cargo_capacity:        set_LONGER_MUGUNGHWA_RY_CAR_purchase;

                    additional_text:                string(STR_ADDITIONAL_LONGER_MUGUNGHWA_RY_CAR);
                }
            }

    // MUGUNGHWA_RB_CAR
        // Graphics
            spriteset(set_LONGER_MUGUNGHWA_RB_CAR_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_MUGUNGHWA_CAR.png") {
                tmpl_purchase(0, 320)
            }

            spriteset(set_graphic_LONGER_MUGUNGHWA_RB_PASSENGER_A_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_MUGUNGHWA_CAR.png"){
                tmpl_vehicle(80, 320)
            }

            spriteset(set_graphic_LONGER_MUGUNGHWA_RB_PASSENGER_B_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_MUGUNGHWA_CAR.png"){
                tmpl_vehicle(80, 360)
            }

            spriteset(set_graphic_LONGER_MUGUNGHWA_RB_GENERATOR_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_MUGUNGHWA_CAR.png"){
                tmpl_vehicle(80, 400)
            }

        // Switches
            switch(FEAT_TRAINS, SELF, sw_random_graphic_LONGER_MUGUNGHWA_RB_CAR, random_bits % 5) {  
                1..3: set_graphic_LONGER_MUGUNGHWA_RB_PASSENGER_A_CAR;
                set_graphic_LONGER_MUGUNGHWA_RB_PASSENGER_B_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_front_LONGER_MUGUNGHWA_RB_CAR, num_vehs_in_vehid_chain / 3 ) {
                sw_random_graphic_LONGER_MUGUNGHWA_RB_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_general_LONGER_MUGUNGHWA_RB_CAR, position_in_vehid_chain_from_end) {
                1: set_graphic_LONGER_MUGUNGHWA_RB_GENERATOR_CAR;
                sw_graphic_front_LONGER_MUGUNGHWA_RB_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_MUGUNGHWA_RB_CAR, position_in_vehid_chain % 3) {
                1: sw_graphic_general_LONGER_MUGUNGHWA_RB_CAR;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_front_LONGER_MUGUNGHWA_RB_CAR, num_vehs_in_vehid_chain / 3 ) {
                72;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_general_LONGER_MUGUNGHWA_RB_CAR, position_in_vehid_chain_from_end) {
                1: 0;
                sw_capacity_front_LONGER_MUGUNGHWA_RB_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_MUGUNGHWA_RB_CAR, position_in_vehid_chain % 3) {
                1: sw_capacity_general_LONGER_MUGUNGHWA_RB_CAR;
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_front_LONGER_MUGUNGHWA_RB_CAR, num_vehs_in_vehid_chain / 3 ) { // 나머지 전부 길이 8
                8;
            }

            switch (FEAT_TRAINS, SELF, sw_length_general_LONGER_MUGUNGHWA_RB_CAR, position_in_vehid_chain_from_end) { // 끝에서 첫째 차량 발전차; 나머지는 다음으로 넘김
                1: 6;
                sw_length_front_LONGER_MUGUNGHWA_RB_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_MUGUNGHWA_RB_CAR, position_in_vehid_chain % 3) { // 3칸씩 반복; 가운데를 뺀 나머지는 2
                1: sw_length_general_LONGER_MUGUNGHWA_RB_CAR;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_MUGUNGHWA_RB_CAR, extra_callback_info1) {
                1..2: return ko_LONGER_MUGUNGHWA_RB_CAR; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_MUGUNGHWA_RB_CAR, 6023) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_MUGUNGHWA_CAR);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1996, 1, 1);
                    track_type:                     RAIL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    variant_group:                  ko_LONGER_MUGUNGHWA_MILDSTEAL_CAR;

                    // Spec
                    weight:                         17 ton;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 72/3;
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    80;
                    running_cost_base:              RUNNING_COST_NONE;
                    //running_cost_factor:          64;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_MUGUNGHWA_RB_CAR;
                    articulated_part:               sw_articulated_LONGER_MUGUNGHWA_RB_CAR;
                    length:                         sw_length_LONGER_MUGUNGHWA_RB_CAR;
                    cargo_capacity:                 sw_capacity_LONGER_MUGUNGHWA_RB_CAR;
                    purchase:                       set_LONGER_MUGUNGHWA_RB_CAR_purchase;
                    purchase_cargo_capacity:        set_LONGER_MUGUNGHWA_RB_CAR_purchase;

                    additional_text:                string(STR_ADDITIONAL_LONGER_MUGUNGHWA_RB_CAR);
                }
            }

    // SAEMAEUL_MILDSTEAL_CAR
        // Graphics
            spriteset(set_LONGER_SAEMAEUL_MILDSTEAL_CAR_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png") {
                tmpl_purchase(0, 0)
            }

            spriteset(set_graphic_LONGER_SAEMAEUL_MILDSTEAL_PASSENGER_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png"){
                tmpl_vehicle(80, 0)
            }

            spriteset(set_graphic_LONGER_SAEMAEUL_MILDSTEAL_DINING_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png"){
                tmpl_vehicle(80, 40)
            }

            spriteset(set_graphic_LONGER_SAEMAEUL_MILDSTEAL_GENERATOR_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png"){
                tmpl_vehicle(80, 80)
            }

        // Switches
            switch(FEAT_TRAINS, SELF, sw_random_graphic_LONGER_SAEMAEUL_MILDSTEAL_CAR, random_bits % 6) {  
                1..5: set_graphic_LONGER_SAEMAEUL_MILDSTEAL_PASSENGER_CAR;
                set_graphic_LONGER_SAEMAEUL_MILDSTEAL_DINING_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_front_LONGER_SAEMAEUL_MILDSTEAL_CAR, num_vehs_in_vehid_chain / 3 ) {
                sw_random_graphic_LONGER_SAEMAEUL_MILDSTEAL_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_general_LONGER_SAEMAEUL_MILDSTEAL_CAR, position_in_vehid_chain_from_end) {
                1: set_graphic_LONGER_SAEMAEUL_MILDSTEAL_GENERATOR_CAR;
                sw_graphic_front_LONGER_SAEMAEUL_MILDSTEAL_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_SAEMAEUL_MILDSTEAL_CAR, position_in_vehid_chain % 3) {
                1: sw_graphic_general_LONGER_SAEMAEUL_MILDSTEAL_CAR;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_front_LONGER_SAEMAEUL_MILDSTEAL_CAR, num_vehs_in_vehid_chain / 3 ) {
                64;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_general_LONGER_SAEMAEUL_MILDSTEAL_CAR, position_in_vehid_chain_from_end) {
                1: 0;
                sw_capacity_front_LONGER_SAEMAEUL_MILDSTEAL_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_SAEMAEUL_MILDSTEAL_CAR, position_in_vehid_chain % 3) {
                1: sw_capacity_general_LONGER_SAEMAEUL_MILDSTEAL_CAR;
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_front_LONGER_SAEMAEUL_MILDSTEAL_CAR, num_vehs_in_vehid_chain / 3 ) { // 나머지 전부 길이 8
                8;
            }

            switch (FEAT_TRAINS, SELF, sw_length_general_LONGER_SAEMAEUL_MILDSTEAL_CAR, position_in_vehid_chain_from_end) { // 끝에서 첫째 차량 발전차; 나머지는 다음으로 넘김
                1: 4;
                sw_length_front_LONGER_SAEMAEUL_MILDSTEAL_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_SAEMAEUL_MILDSTEAL_CAR, position_in_vehid_chain % 3) { // 3칸씩 반복; 가운데를 뺀 나머지는 2
                1: sw_length_general_LONGER_SAEMAEUL_MILDSTEAL_CAR;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_SAEMAEUL_MILDSTEAL_CAR, extra_callback_info1) {
                1..2: return ko_LONGER_SAEMAEUL_MILDSTEAL_CAR; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_SAEMAEUL_MILDSTEAL_CAR, 6030) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_SAEMAEUL_CAR);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1969, 1, 1);
                    track_type:                     RAIL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;

                    // Spec
                    weight:                         20 ton;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 64/3;
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    80;
                    running_cost_base:              RUNNING_COST_NONE;
                    //running_cost_factor:          64;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_SAEMAEUL_MILDSTEAL_CAR;
                    articulated_part:               sw_articulated_LONGER_SAEMAEUL_MILDSTEAL_CAR;
                    length:                         sw_length_LONGER_SAEMAEUL_MILDSTEAL_CAR;
                    cargo_capacity:                 sw_capacity_LONGER_SAEMAEUL_MILDSTEAL_CAR;
                    purchase:                       set_LONGER_SAEMAEUL_MILDSTEAL_CAR_purchase;
                    purchase_cargo_capacity:        set_LONGER_SAEMAEUL_MILDSTEAL_CAR_purchase;

                    additional_text:                string(STR_ADDITIONAL_LONGER_SAEMAEUL_MILDSTEAL_CAR);
                }
            }

    // SAEMAEUL_STAINLESS_CAR
        // Graphics
            spriteset(set_LONGER_SAEMAEUL_STAINLESS_CAR_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png") {
                tmpl_purchase(0, 120)
            }

            spriteset(set_graphic_LONGER_SAEMAEUL_STAINLESS_PASSENGER_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png"){
                tmpl_vehicle(80, 120)
            }

            spriteset(set_graphic_LONGER_SAEMAEUL_STAINLESS_DINING_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png"){
                tmpl_vehicle(80, 160)
            }

            spriteset(set_graphic_LONGER_SAEMAEUL_STAINLESS_GENERATOR_CAR_A, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png"){
                tmpl_vehicle(80, 200)
            }

            spriteset(set_graphic_LONGER_SAEMAEUL_STAINLESS_GENERATOR_CAR_B, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png"){
                tmpl_vehicle(80, 240)
            }

        // Switches
            switch(FEAT_TRAINS, SELF, sw_random_graphic_LONGER_SAEMAEUL_STAINLESS_CAR, random_bits % 6) {  
                1..5: set_graphic_LONGER_SAEMAEUL_STAINLESS_PASSENGER_CAR;
                set_graphic_LONGER_SAEMAEUL_STAINLESS_DINING_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_front_LONGER_SAEMAEUL_STAINLESS_CAR, num_vehs_in_vehid_chain / 3 ) {
                sw_random_graphic_LONGER_SAEMAEUL_STAINLESS_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_SAEMAEUL_STAINLESS_GENERATOR_CAR, random_bits % 2) {
                1: set_graphic_LONGER_SAEMAEUL_STAINLESS_GENERATOR_CAR_A;
                set_graphic_LONGER_SAEMAEUL_STAINLESS_GENERATOR_CAR_B;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_general_LONGER_SAEMAEUL_STAINLESS_CAR, position_in_vehid_chain_from_end) {
                1: sw_graphic_LONGER_SAEMAEUL_STAINLESS_GENERATOR_CAR;
                sw_graphic_front_LONGER_SAEMAEUL_STAINLESS_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_SAEMAEUL_STAINLESS_CAR, position_in_vehid_chain % 3) {
                1: sw_graphic_general_LONGER_SAEMAEUL_STAINLESS_CAR;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_front_LONGER_SAEMAEUL_STAINLESS_CAR, num_vehs_in_vehid_chain / 3 ) {
                64;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_general_LONGER_SAEMAEUL_STAINLESS_CAR, position_in_vehid_chain_from_end) {
                1: 0;
                sw_capacity_front_LONGER_SAEMAEUL_STAINLESS_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_SAEMAEUL_STAINLESS_CAR, position_in_vehid_chain % 3) {
                1: sw_capacity_general_LONGER_SAEMAEUL_STAINLESS_CAR;
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_front_LONGER_SAEMAEUL_STAINLESS_CAR, num_vehs_in_vehid_chain / 3 ) { // 나머지 전부 길이 8
                8;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_SAEMAEUL_STAINLESS_GENERATOR_CAR, random_bits % 2 ) {
                1: 4;
                6;
            }

            switch (FEAT_TRAINS, SELF, sw_length_general_LONGER_SAEMAEUL_STAINLESS_CAR, position_in_vehid_chain_from_end) { // 끝에서 첫째 차량 발전차; 나머지는 다음으로 넘김
                1: sw_length_LONGER_SAEMAEUL_STAINLESS_GENERATOR_CAR;
                sw_length_front_LONGER_SAEMAEUL_STAINLESS_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_SAEMAEUL_STAINLESS_CAR, position_in_vehid_chain % 3) { // 3칸씩 반복; 가운데를 뺀 나머지는 2
                1: sw_length_general_LONGER_SAEMAEUL_STAINLESS_CAR;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_SAEMAEUL_STAINLESS_CAR, extra_callback_info1) {
                1..2: return ko_LONGER_SAEMAEUL_STAINLESS_CAR; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_SAEMAEUL_STAINLESS_CAR, 6031) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_SAEMAEUL_CAR);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1986, 1, 1);
                    track_type:                     RAIL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    variant_group:                  ko_LONGER_SAEMAEUL_MILDSTEAL_CAR;

                    // Spec
                    weight:                         20 ton;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 64/3;
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    80;
                    running_cost_base:              RUNNING_COST_NONE;
                    //running_cost_factor:          64;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_SAEMAEUL_STAINLESS_CAR;
                    articulated_part:               sw_articulated_LONGER_SAEMAEUL_STAINLESS_CAR;
                    length:                         sw_length_LONGER_SAEMAEUL_STAINLESS_CAR;
                    cargo_capacity:                 sw_capacity_LONGER_SAEMAEUL_STAINLESS_CAR;
                    purchase:                       set_LONGER_SAEMAEUL_STAINLESS_CAR_purchase;
                    purchase_cargo_capacity:        set_LONGER_SAEMAEUL_STAINLESS_CAR_purchase;

                    additional_text:                string(STR_ADDITIONAL_LONGER_SAEMAEUL_STAINLESS_CAR);
                }
            }

    // SAEMAEUL_KNR_CAR
        // Graphics
            spriteset(set_LONGER_SAEMAEUL_KNR_CAR_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png") {
                tmpl_purchase(0, 280)
            }

            spriteset(set_graphic_LONGER_SAEMAEUL_KNR_PASSENGER_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png"){
                tmpl_vehicle(80, 280)
            }

            spriteset(set_graphic_LONGER_SAEMAEUL_KNR_DINING_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png"){
                tmpl_vehicle(80, 320)
            }

            spriteset(set_graphic_LONGER_SAEMAEUL_KNR_GENERATOR_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png"){
                tmpl_vehicle(80, 360)
            }

        // Switches
            switch(FEAT_TRAINS, SELF, sw_random_graphic_LONGER_SAEMAEUL_KNR_CAR, random_bits % 6) {  
                1..5: set_graphic_LONGER_SAEMAEUL_KNR_PASSENGER_CAR;
                set_graphic_LONGER_SAEMAEUL_KNR_DINING_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_front_LONGER_SAEMAEUL_KNR_CAR, num_vehs_in_vehid_chain / 3 ) {
                sw_random_graphic_LONGER_SAEMAEUL_KNR_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_general_LONGER_SAEMAEUL_KNR_CAR, position_in_vehid_chain_from_end) {
                1: set_graphic_LONGER_SAEMAEUL_KNR_GENERATOR_CAR;
                sw_graphic_front_LONGER_SAEMAEUL_KNR_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_SAEMAEUL_KNR_CAR, position_in_vehid_chain % 3) {
                1: sw_graphic_general_LONGER_SAEMAEUL_KNR_CAR;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_front_LONGER_SAEMAEUL_KNR_CAR, num_vehs_in_vehid_chain / 3 ) {
                64;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_general_LONGER_SAEMAEUL_KNR_CAR, position_in_vehid_chain_from_end) {
                1: 0;
                sw_capacity_front_LONGER_SAEMAEUL_KNR_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_SAEMAEUL_KNR_CAR, position_in_vehid_chain % 3) {
                1: sw_capacity_general_LONGER_SAEMAEUL_KNR_CAR;
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_front_LONGER_SAEMAEUL_KNR_CAR, num_vehs_in_vehid_chain / 3 ) { // 나머지 전부 길이 8
                8;
            }

            switch (FEAT_TRAINS, SELF, sw_length_general_LONGER_SAEMAEUL_KNR_CAR, position_in_vehid_chain_from_end) { // 끝에서 첫째 차량 발전차; 나머지는 다음으로 넘김
                1: 6;
                sw_length_front_LONGER_SAEMAEUL_KNR_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_SAEMAEUL_KNR_CAR, position_in_vehid_chain % 3) { // 3칸씩 반복; 가운데를 뺀 나머지는 2
                1: sw_length_general_LONGER_SAEMAEUL_KNR_CAR;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_SAEMAEUL_KNR_CAR, extra_callback_info1) {
                1..2: return ko_LONGER_SAEMAEUL_KNR_CAR; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_SAEMAEUL_KNR_CAR, 6032) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_SAEMAEUL_CAR);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1996, 1, 1);
                    track_type:                     RAIL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    variant_group:                  ko_LONGER_SAEMAEUL_MILDSTEAL_CAR;

                    // Spec
                    weight:                         20 ton;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 64/3;
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    80;
                    running_cost_base:              RUNNING_COST_NONE;
                    //running_cost_factor:          64;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_SAEMAEUL_KNR_CAR;
                    articulated_part:               sw_articulated_LONGER_SAEMAEUL_KNR_CAR;
                    length:                         sw_length_LONGER_SAEMAEUL_KNR_CAR;
                    cargo_capacity:                 sw_capacity_LONGER_SAEMAEUL_KNR_CAR;
                    purchase:                       set_LONGER_SAEMAEUL_KNR_CAR_purchase;
                    purchase_cargo_capacity:        set_LONGER_SAEMAEUL_KNR_CAR_purchase;

                    additional_text:                string(STR_ADDITIONAL_LONGER_SAEMAEUL_KNR_CAR);
                }
            }

    // SAEMAEUL_RB_CAR
        // Graphics
            spriteset(set_LONGER_SAEMAEUL_RB_CAR_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png") {
                tmpl_purchase(0, 400)
            }

            spriteset(set_graphic_LONGER_SAEMAEUL_RB_PASSENGER_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png"){
                tmpl_vehicle(80, 400)
            }

            spriteset(set_graphic_LONGER_SAEMAEUL_RB_DINING_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png"){
                tmpl_vehicle(80, 440)
            }

            spriteset(set_graphic_LONGER_SAEMAEUL_RB_GENERATOR_CAR, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_CAR.png"){
                tmpl_vehicle(80, 480)
            }

        // Switches
            switch(FEAT_TRAINS, SELF, sw_random_graphic_LONGER_SAEMAEUL_RB_CAR, random_bits % 6) {  
                1..5: set_graphic_LONGER_SAEMAEUL_RB_PASSENGER_CAR;
                set_graphic_LONGER_SAEMAEUL_RB_DINING_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_front_LONGER_SAEMAEUL_RB_CAR, num_vehs_in_vehid_chain / 3 ) {
                sw_random_graphic_LONGER_SAEMAEUL_RB_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_general_LONGER_SAEMAEUL_RB_CAR, position_in_vehid_chain_from_end) {
                1: set_graphic_LONGER_SAEMAEUL_RB_GENERATOR_CAR;
                sw_graphic_front_LONGER_SAEMAEUL_RB_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_SAEMAEUL_RB_CAR, position_in_vehid_chain % 3) {
                1: sw_graphic_general_LONGER_SAEMAEUL_RB_CAR;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_front_LONGER_SAEMAEUL_RB_CAR, num_vehs_in_vehid_chain / 3 ) {
                64;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_general_LONGER_SAEMAEUL_RB_CAR, position_in_vehid_chain_from_end) {
                1: 0;
                sw_capacity_front_LONGER_SAEMAEUL_RB_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_SAEMAEUL_RB_CAR, position_in_vehid_chain % 3) {
                1: sw_capacity_general_LONGER_SAEMAEUL_RB_CAR;
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_front_LONGER_SAEMAEUL_RB_CAR, num_vehs_in_vehid_chain / 3 ) { // 나머지 전부 길이 8
                8;
            }

            switch (FEAT_TRAINS, SELF, sw_length_general_LONGER_SAEMAEUL_RB_CAR, position_in_vehid_chain_from_end) { // 끝에서 첫째 차량 발전차; 나머지는 다음으로 넘김
                1: 6;
                sw_length_front_LONGER_SAEMAEUL_RB_CAR;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_SAEMAEUL_RB_CAR, position_in_vehid_chain % 3) { // 3칸씩 반복; 가운데를 뺀 나머지는 2
                1: sw_length_general_LONGER_SAEMAEUL_RB_CAR;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_SAEMAEUL_RB_CAR, extra_callback_info1) {
                1..2: return ko_LONGER_SAEMAEUL_RB_CAR; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_SAEMAEUL_RB_CAR, 6033) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_SAEMAEUL_CAR);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(2003, 1, 1);
                    track_type:                     RAIL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    variant_group:                  ko_LONGER_SAEMAEUL_MILDSTEAL_CAR;

                    // Spec
                    weight:                         20 ton;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 64/3;
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    80;
                    running_cost_base:              RUNNING_COST_NONE;
                    //running_cost_factor:          64;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_SAEMAEUL_RB_CAR;
                    articulated_part:               sw_articulated_LONGER_SAEMAEUL_RB_CAR;
                    length:                         sw_length_LONGER_SAEMAEUL_RB_CAR;
                    cargo_capacity:                 sw_capacity_LONGER_SAEMAEUL_RB_CAR;
                    purchase:                       set_LONGER_SAEMAEUL_RB_CAR_purchase;
                    purchase_cargo_capacity:        set_LONGER_SAEMAEUL_RB_CAR_purchase;

                    additional_text:                string(STR_ADDITIONAL_LONGER_SAEMAEUL_RB_CAR);
                }
            }

// Locomotives
    // LONGER_PASHI5
        // Graphics
            spriteset(set_LONGER_PASHI5_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_PASHI5.png") {
                tmpl_purchase(0, 0)
            }

            spriteset(set_LONGER_PASHI5_engine_1, "./Korean_Longer_Train_Set/gfx/LONGER_PASHI5.png") {
                tmpl_vehicle(80, 00)
            }

            spriteset(set_LONGER_PASHI5_engine_2, "./Korean_Longer_Train_Set/gfx/LONGER_PASHI5.png") {
                tmpl_vehicle(80, 40)
            }

            spriteset(set_LONGER_PASHI5_engine_3, "./Korean_Longer_Train_Set/gfx/LONGER_PASHI5.png") {
                tmpl_vehicle(80, 80)
            }

            spriteset(set_LONGER_PASHI5_engine_4, "./Korean_Longer_Train_Set/gfx/LONGER_PASHI5.png") {
                tmpl_vehicle(80, 120)
            }

            spriteset(set_LONGER_PASHI5_tender, "./Korean_Longer_Train_Set/gfx/LONGER_PASHI5.png") {
                tmpl_vehicle(80, 160)
            }

        // Switches
            switch(FEAT_TRAINS, SELF, sw_LONGER_PASHI5_engine_motion, motion_counter % 4) {
                1: set_LONGER_PASHI5_engine_2;
                2: set_LONGER_PASHI5_engine_3;
                3: set_LONGER_PASHI5_engine_4;
                set_LONGER_PASHI5_engine_1;
            }

            switch(FEAT_TRAINS, SELF, sw_LONGER_PASHI5_engine, position_in_articulated_veh) {
                1: sw_LONGER_PASHI5_engine_motion;
                3: set_LONGER_PASHI5_tender;
                set_vehicle_empty;
            }            

            switch(FEAT_TRAINS, SELF, sw_LONGER_PASHI5_length, position_in_articulated_veh) {
                1: 6;
                3: 5;
                2;
            }

            switch(FEAT_TRAINS, SELF, sw_LONGER_PASHI5_articulated_part, extra_callback_info1) { // articulated parts
                1..3: ko_LONGER_PASHI5;
                CB_RESULT_NO_MORE_ARTICULATED_PARTS;
            }

            switch(FEAT_TRAINS, SELF, sw_LONGER_PASHI5_visual_effect, position_in_articulated_veh) { // steam visual effect
                0: visual_effect_and_powered(VISUAL_EFFECT_STEAM, -3, DISABLE_WAGON_POWER);
                VISUAL_EFFECT_DISABLE;
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_PASHI5, 6100) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_PASHI5);
                    climates_available:             NO_CLIMATE;
                    introduction_date:              date(1939, 1, 1);
                    track_type:                     RAIL;
                    engine_class:                   ENGINE_CLASS_STEAM;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    dual_headed:                    0;

                    // Spec
                    speed:                          111*(para_speed_power)/2 km/h;
                    power:                          790*(para_speed_power)/2 kW;
                    weight:                         196 ton;
                    tractive_effort_coefficient:    0.2;
                    air_drag_coefficient:           0.01;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 0;

                    // Costs
                    cost_factor:                    8;
                    refit_cost:                     0;
                    running_cost_base:              RUNNING_COST_STEAM;
                    running_cost_factor:            128;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                    visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_STEAM, -2, DISABLE_WAGON_POWER);
                }
       
                graphics {
                    default:                        sw_LONGER_PASHI5_engine;
                    articulated_part:               sw_LONGER_PASHI5_articulated_part;
                    length:                         sw_LONGER_PASHI5_length;
                    purchase:                       set_LONGER_PASHI5_purchase;
                    visual_effect_and_powered:      sw_LONGER_PASHI5_visual_effect;
                }
            }

    // LONGER_K7000_MILK
        // Graphics
            spriteset(set_purchase_LONGER_K7000_MILK, "./Korean_Longer_Train_Set/gfx/LONGER_K7000.png") {
                tmpl_purchase(0, 0)
            }

            spriteset(set_graphic_LONGER_K7000_MILK, "./Korean_Longer_Train_Set/gfx/LONGER_K7000.png") {
                tmpl_vehicle(80, 0)
            }

        // Switches

            switch(FEAT_TRAINS, SELF, sw_graphic_LONGER_K7000_MILK, position_in_articulated_veh) {
                1: set_graphic_LONGER_K7000_MILK;
                set_vehicle_empty;
            }            

            switch(FEAT_TRAINS, SELF, sw_length_LONGER_K7000_MILK, position_in_articulated_veh) {
                1: 8;
                2;
            }

            switch(FEAT_TRAINS, SELF, sw_articulated_part_LONGER_K7000_MILK, extra_callback_info1) { // articulated parts
                1..2: ko_LONGER_K7000_MILK;
                CB_RESULT_NO_MORE_ARTICULATED_PARTS;
            }

            switch(FEAT_TRAINS, SELF, sw_LONGER_K7000_visual_effect, position_in_articulated_veh) {
                0: visual_effect_and_powered(VISUAL_EFFECT_DIESEL, -3, DISABLE_WAGON_POWER);
                VISUAL_EFFECT_DISABLE;
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_K7000_MILK, 6110) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_K7000);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1986, 1, 1);
                    track_type:                     RAIL;
                    engine_class:                   ENGINE_CLASS_DIESEL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    dual_headed:                    0;

                    // Spec
                    speed:                          151*(para_speed_power)/2 km/h;
                    power:                          2459*(para_speed_power)/2 kW;
                    weight:                         118 ton;
                    tractive_effort_coefficient:    0.25;
                    air_drag_coefficient:           0.01;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 0;

                    // Costs
                    cost_factor:                    8;
                    refit_cost:                     0;
                    running_cost_base:              RUNNING_COST_DIESEL;
                    running_cost_factor:            128;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }
       
                graphics {
                    default:                        sw_graphic_LONGER_K7000_MILK;
                    articulated_part:               sw_articulated_part_LONGER_K7000_MILK;
                    length:                         sw_length_LONGER_K7000_MILK;
                    purchase:                       set_purchase_LONGER_K7000_MILK;
                    visual_effect_and_powered:      sw_LONGER_K7000_visual_effect;

                    additional_text:                string(STR_ADDI_MILK);
                }
            }

    // LONGER_K7000_KNR
        // Graphics
            spriteset(set_purchase_LONGER_K7000_KNR, "./Korean_Longer_Train_Set/gfx/LONGER_K7000.png") {
                tmpl_purchase(0, 40)
            }

            spriteset(set_graphic_LONGER_K7000_KNR, "./Korean_Longer_Train_Set/gfx/LONGER_K7000.png") {
                tmpl_vehicle(80, 40)
            }

        // Switches

            switch(FEAT_TRAINS, SELF, sw_graphic_LONGER_K7000_KNR, position_in_articulated_veh) {
                1: set_graphic_LONGER_K7000_KNR;
                set_vehicle_empty;
            }            

            switch(FEAT_TRAINS, SELF, sw_length_LONGER_K7000_KNR, position_in_articulated_veh) {
                1: 8;
                2;
            }

            switch(FEAT_TRAINS, SELF, sw_articulated_part_LONGER_K7000_KNR, extra_callback_info1) { // articulated parts
                1..2: ko_LONGER_K7000_KNR;
                CB_RESULT_NO_MORE_ARTICULATED_PARTS;
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_K7000_KNR, 6111) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_K7000);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1996, 1, 1);
                    track_type:                     RAIL;
                    engine_class:                   ENGINE_CLASS_DIESEL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    dual_headed:                    0;
                    variant_group:                  ko_LONGER_K7000_MILK;

                    // Spec
                    speed:                          151*(para_speed_power)/2 km/h;
                    power:                          2459*(para_speed_power)/2 kW;
                    weight:                         118 ton;
                    tractive_effort_coefficient:    0.25;
                    air_drag_coefficient:           0.01;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 0;

                    // Costs
                    cost_factor:                    8;
                    refit_cost:                     0;
                    running_cost_base:              RUNNING_COST_DIESEL;
                    running_cost_factor:            128;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }
       
                graphics {
                    default:                        sw_graphic_LONGER_K7000_KNR;
                    articulated_part:               sw_articulated_part_LONGER_K7000_KNR;
                    length:                         sw_length_LONGER_K7000_KNR;
                    purchase:                       set_purchase_LONGER_K7000_KNR;
                    visual_effect_and_powered:      sw_LONGER_K7000_visual_effect;

                    additional_text:                string(STR_ADDI_KNR);
                }
            }

    // LONGER_K7000_KORAIL
        // Graphics
            spriteset(set_purchase_LONGER_K7000_KORAIL, "./Korean_Longer_Train_Set/gfx/LONGER_K7000.png") {
                tmpl_purchase(0, 80)
            }

            spriteset(set_graphic_LONGER_K7000_KORAIL, "./Korean_Longer_Train_Set/gfx/LONGER_K7000.png") {
                tmpl_vehicle(80, 80)
            }

        // Switches

            switch(FEAT_TRAINS, SELF, sw_graphic_LONGER_K7000_KORAIL, position_in_articulated_veh) {
                1: set_graphic_LONGER_K7000_KORAIL;
                set_vehicle_empty;
            }            

            switch(FEAT_TRAINS, SELF, sw_length_LONGER_K7000_KORAIL, position_in_articulated_veh) {
                1: 8;
                2;
            }

            switch(FEAT_TRAINS, SELF, sw_articulated_part_LONGER_K7000_KORAIL, extra_callback_info1) { // articulated parts
                1..2: ko_LONGER_K7000_KORAIL;
                CB_RESULT_NO_MORE_ARTICULATED_PARTS;
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_K7000_KORAIL, 6112) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_K7000);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(2003, 1, 1);
                    track_type:                     RAIL;
                    engine_class:                   ENGINE_CLASS_DIESEL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    dual_headed:                    0;
                    variant_group:                  ko_LONGER_K7000_MILK;

                    // Spec
                    speed:                          151*(para_speed_power)/2 km/h;
                    power:                          2459*(para_speed_power)/2 kW;
                    weight:                         118 ton;
                    tractive_effort_coefficient:    0.25;
                    air_drag_coefficient:           0.01;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 0;

                    // Costs
                    cost_factor:                    8;
                    refit_cost:                     0;
                    running_cost_base:              RUNNING_COST_DIESEL;
                    running_cost_factor:            128;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }
       
                graphics {
                    default:                        sw_graphic_LONGER_K7000_KORAIL;
                    articulated_part:               sw_articulated_part_LONGER_K7000_KORAIL;
                    length:                         sw_length_LONGER_K7000_KORAIL;
                    purchase:                       set_purchase_LONGER_K7000_KORAIL;
                    visual_effect_and_powered:      sw_LONGER_K7000_visual_effect;

                    additional_text:                string(STR_ADDI_KORAIL);
                }
            }

    // LONGER_K7X00_GWANGWANGHO
        // Graphics
            spriteset(set_purchase_LONGER_K7X00_GWANGWANGHO, "./Korean_Longer_Train_Set/gfx/LONGER_K7X00.png") {
                tmpl_purchase(0, 0)
            }

            spriteset(set_graphic_LONGER_K7X00_GWANGWANGHO, "./Korean_Longer_Train_Set/gfx/LONGER_K7X00.png") {
                tmpl_vehicle(80, 0)
            }

        // Switches

            switch(FEAT_TRAINS, SELF, sw_graphic_LONGER_K7X00_GWANGWANGHO, position_in_articulated_veh) {
                1: set_graphic_LONGER_K7X00_GWANGWANGHO;
                set_vehicle_empty;
            }            

            switch(FEAT_TRAINS, SELF, sw_length_LONGER_K7X00_GWANGWANGHO, position_in_articulated_veh) {
                1: 8;
                2;
            }

            switch(FEAT_TRAINS, SELF, sw_articulated_part_LONGER_K7X00_GWANGWANGHO, extra_callback_info1) { // articulated parts
                1..2: ko_LONGER_K7X00_GWANGWANGHO;
                CB_RESULT_NO_MORE_ARTICULATED_PARTS;
            }

            switch(FEAT_TRAINS, SELF, sw_LONGER_K7X00_visual_effect, position_in_articulated_veh) {
                0: visual_effect_and_powered(VISUAL_EFFECT_DIESEL, -3, DISABLE_WAGON_POWER);
                VISUAL_EFFECT_DISABLE;
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_K7X00_GWANGWANGHO, 6120) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_K7X00);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1969, 1, 1);
                    track_type:                     RAIL;
                    engine_class:                   ENGINE_CLASS_DIESEL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    dual_headed:                    0;

                    // Spec
                    speed:                          151*(para_speed_power)/2 km/h;
                    power:                          2238*(para_speed_power)/2 kW;
                    weight:                         126 ton;
                    tractive_effort_coefficient:    0.25;
                    air_drag_coefficient:           0.01;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 0;

                    // Costs
                    cost_factor:                    8;
                    refit_cost:                     0;
                    running_cost_base:              RUNNING_COST_DIESEL;
                    running_cost_factor:            128;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }
       
                graphics {
                    default:                        sw_graphic_LONGER_K7X00_GWANGWANGHO;
                    articulated_part:               sw_articulated_part_LONGER_K7X00_GWANGWANGHO;
                    length:                         sw_length_LONGER_K7X00_GWANGWANGHO;
                    purchase:                       set_purchase_LONGER_K7X00_GWANGWANGHO;
                    visual_effect_and_powered:      sw_LONGER_K7X00_visual_effect;

                    additional_text:                string(STR_ADDI_GWANGWANGHO);
                }
            }

    // LONGER_K7X00_MILK
        // Graphics
            spriteset(set_purchase_LONGER_K7X00_MILK, "./Korean_Longer_Train_Set/gfx/LONGER_K7X00.png") {
                tmpl_purchase(0, 40)
            }

            spriteset(set_graphic_LONGER_K7X00_MILK, "./Korean_Longer_Train_Set/gfx/LONGER_K7X00.png") {
                tmpl_vehicle(80, 40)
            }

        // Switches

            switch(FEAT_TRAINS, SELF, sw_graphic_LONGER_K7X00_MILK, position_in_articulated_veh) {
                1: set_graphic_LONGER_K7X00_MILK;
                set_vehicle_empty;
            }            

            switch(FEAT_TRAINS, SELF, sw_length_LONGER_K7X00_MILK, position_in_articulated_veh) {
                1: 8;
                2;
            }

            switch(FEAT_TRAINS, SELF, sw_articulated_part_LONGER_K7X00_MILK, extra_callback_info1) { // articulated parts
                1..2: ko_LONGER_K7X00_MILK;
                CB_RESULT_NO_MORE_ARTICULATED_PARTS;
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_K7X00_MILK, 6121) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_K7X00);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1971, 1, 1);
                    track_type:                     RAIL;
                    engine_class:                   ENGINE_CLASS_DIESEL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    dual_headed:                    0;                    
                    variant_group:                  ko_LONGER_K7X00_GWANGWANGHO;

                    // Spec
                    speed:                          151*(para_speed_power)/2 km/h;
                    power:                          2238*(para_speed_power)/2 kW;
                    weight:                         126 ton;
                    tractive_effort_coefficient:    0.25;
                    air_drag_coefficient:           0.01;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 0;

                    // Costs
                    cost_factor:                    8;
                    refit_cost:                     0;
                    running_cost_base:              RUNNING_COST_DIESEL;
                    running_cost_factor:            128;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }
       
                graphics {
                    default:                        sw_graphic_LONGER_K7X00_MILK;
                    articulated_part:               sw_articulated_part_LONGER_K7X00_MILK;
                    length:                         sw_length_LONGER_K7X00_MILK;
                    purchase:                       set_purchase_LONGER_K7X00_MILK;
                    visual_effect_and_powered:      sw_LONGER_K7X00_visual_effect;

                    additional_text:                string(STR_ADDI_MILK);
                }
            }

    // LONGER_K7X00_TIGER
        // Graphics
            spriteset(set_purchase_LONGER_K7X00_TIGER, "./Korean_Longer_Train_Set/gfx/LONGER_K7X00.png") {
                tmpl_purchase(0, 80)
            }

            spriteset(set_graphic_LONGER_K7X00_TIGER, "./Korean_Longer_Train_Set/gfx/LONGER_K7X00.png") {
                tmpl_vehicle(80, 80)
            }

        // Switches
            switch(FEAT_TRAINS, SELF, sw_graphic_LONGER_K7X00_TIGER, position_in_articulated_veh) {
                1: set_graphic_LONGER_K7X00_TIGER;
                set_vehicle_empty;
            }            

            switch(FEAT_TRAINS, SELF, sw_length_LONGER_K7X00_TIGER, position_in_articulated_veh) {
                1: 8;
                2;
            }

            switch(FEAT_TRAINS, SELF, sw_articulated_part_LONGER_K7X00_TIGER, extra_callback_info1) { // articulated parts
                1..2: ko_LONGER_K7X00_TIGER;
                CB_RESULT_NO_MORE_ARTICULATED_PARTS;
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_K7X00_TIGER, 6122) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_K7X00);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1971, 1, 1);
                    track_type:                     RAIL;
                    engine_class:                   ENGINE_CLASS_DIESEL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    dual_headed:                    0;
                    variant_group:                  ko_LONGER_K7X00_GWANGWANGHO;

                    // Spec
                    speed:                          151*(para_speed_power)/2 km/h;
                    power:                          2238*(para_speed_power)/2 kW;
                    weight:                         126 ton;
                    tractive_effort_coefficient:    0.25;
                    air_drag_coefficient:           0.01;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 0;

                    // Costs
                    cost_factor:                    8;
                    refit_cost:                     0;
                    running_cost_base:              RUNNING_COST_DIESEL;
                    running_cost_factor:            128;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }
       
                graphics {
                    default:                        sw_graphic_LONGER_K7X00_TIGER;
                    articulated_part:               sw_articulated_part_LONGER_K7X00_TIGER;
                    length:                         sw_length_LONGER_K7X00_TIGER;
                    purchase:                       set_purchase_LONGER_K7X00_TIGER;
                    visual_effect_and_powered:      sw_LONGER_K7X00_visual_effect;

                    additional_text:                string(STR_ADDI_TIGER);
                }
            }

    // LONGER_K7X00_KNR
        // Graphics
            spriteset(set_purchase_LONGER_K7X00_KNR, "./Korean_Longer_Train_Set/gfx/LONGER_K7X00.png") {
                tmpl_purchase(0, 120)
            }

            spriteset(set_graphic_LONGER_K7X00_KNR, "./Korean_Longer_Train_Set/gfx/LONGER_K7X00.png") {
                tmpl_vehicle(80, 120)
            }

        // Switches

            switch(FEAT_TRAINS, SELF, sw_graphic_LONGER_K7X00_KNR, position_in_articulated_veh) {
                1: set_graphic_LONGER_K7X00_KNR;
                set_vehicle_empty;
            }            

            switch(FEAT_TRAINS, SELF, sw_length_LONGER_K7X00_KNR, position_in_articulated_veh) {
                1: 8;
                2;
            }

            switch(FEAT_TRAINS, SELF, sw_articulated_part_LONGER_K7X00_KNR, extra_callback_info1) { // articulated parts
                1..2: ko_LONGER_K7X00_KNR;
                CB_RESULT_NO_MORE_ARTICULATED_PARTS;
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_K7X00_KNR, 6123) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_K7X00);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1996, 1, 1);
                    track_type:                     RAIL;
                    engine_class:                   ENGINE_CLASS_DIESEL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    dual_headed:                    0;
                    variant_group:                  ko_LONGER_K7X00_GWANGWANGHO;

                    // Spec
                    speed:                          151*(para_speed_power)/2 km/h;
                    power:                          2238*(para_speed_power)/2 kW;
                    weight:                         126 ton;
                    tractive_effort_coefficient:    0.25;
                    air_drag_coefficient:           0.01;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 0;

                    // Costs
                    cost_factor:                    8;
                    refit_cost:                     0;
                    running_cost_base:              RUNNING_COST_DIESEL;
                    running_cost_factor:            128;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }
       
                graphics {
                    default:                        sw_graphic_LONGER_K7X00_KNR;
                    articulated_part:               sw_articulated_part_LONGER_K7X00_KNR;
                    length:                         sw_length_LONGER_K7X00_KNR;
                    purchase:                       set_purchase_LONGER_K7X00_KNR;
                    visual_effect_and_powered:      sw_LONGER_K7X00_visual_effect;

                    additional_text:                string(STR_ADDI_KNR);
                }
            }

    // LONGER_K7X00_KORAIL
        // Graphics
            spriteset(set_purchase_LONGER_K7X00_KORAIL, "./Korean_Longer_Train_Set/gfx/LONGER_K7X00.png") {
                tmpl_purchase(0, 160)
            }

            spriteset(set_graphic_LONGER_K7X00_KORAIL, "./Korean_Longer_Train_Set/gfx/LONGER_K7X00.png") {
                tmpl_vehicle(80, 160)
            }

        // Switches

            switch(FEAT_TRAINS, SELF, sw_graphic_LONGER_K7X00_KORAIL, position_in_articulated_veh) {
                1: set_graphic_LONGER_K7X00_KORAIL;
                set_vehicle_empty;
            }            

            switch(FEAT_TRAINS, SELF, sw_length_LONGER_K7X00_KORAIL, position_in_articulated_veh) {
                1: 8;
                2;
            }

            switch(FEAT_TRAINS, SELF, sw_articulated_part_LONGER_K7X00_KORAIL, extra_callback_info1) { // articulated parts
                1..2: ko_LONGER_K7X00_KORAIL;
                CB_RESULT_NO_MORE_ARTICULATED_PARTS;
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_K7X00_KORAIL, 6124) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_K7X00);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(2003, 1, 1);
                    track_type:                     RAIL;
                    engine_class:                   ENGINE_CLASS_DIESEL;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    dual_headed:                    0;
                    variant_group:                  ko_LONGER_K7X00_GWANGWANGHO;

                    // Spec
                    speed:                          151*(para_speed_power)/2 km/h;
                    power:                          2238*(para_speed_power)/2 kW;
                    weight:                         126 ton;
                    tractive_effort_coefficient:    0.25;
                    air_drag_coefficient:           0.01;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 0;

                    // Costs
                    cost_factor:                    8;
                    refit_cost:                     0;
                    running_cost_base:              RUNNING_COST_DIESEL;
                    running_cost_factor:            128;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }
       
                graphics {
                    default:                        sw_graphic_LONGER_K7X00_KORAIL;
                    articulated_part:               sw_articulated_part_LONGER_K7X00_KORAIL;
                    length:                         sw_length_LONGER_K7X00_KORAIL;
                    purchase:                       set_purchase_LONGER_K7X00_KORAIL;
                    visual_effect_and_powered:      sw_LONGER_K7X00_visual_effect;

                    additional_text:                string(STR_ADDI_KORAIL);
                }
            }

    // LONGER_K8X00_KNR
        // Graphics
            spriteset(set_purchase_LONGER_K8X00_KNR, "./Korean_Longer_Train_Set/gfx/LONGER_K8X00.png") {
                tmpl_purchase(0, 0)
            }

            spriteset(set_graphic_LONGER_K8X00_KNR, "./Korean_Longer_Train_Set/gfx/LONGER_K8X00.png") {
                tmpl_vehicle(80, 0)
            }

        // Switches

            switch(FEAT_TRAINS, SELF, sw_graphic_LONGER_K8X00_KNR, position_in_articulated_veh) {
                1: set_graphic_LONGER_K8X00_KNR;
                set_vehicle_empty;
            }            

            switch(FEAT_TRAINS, SELF, sw_length_LONGER_K8X00_KNR, position_in_articulated_veh) {
                1: 8;
                2;
            }

            switch(FEAT_TRAINS, SELF, sw_articulated_part_LONGER_K8X00_KNR, extra_callback_info1) { // articulated parts
                1..2: ko_LONGER_K8X00_KNR;
                CB_RESULT_NO_MORE_ARTICULATED_PARTS;
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_K8X00_KNR, 6150) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_K8X00);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1998, 1, 1);
                    track_type:                     RAIL;
                    engine_class:                   ENGINE_CLASS_ELECTRIC;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    dual_headed:                    0;

                    // Spec
                    speed:                          151*(para_speed_power)/2 km/h;
                    power:                          5200*(para_speed_power)/2 kW;
                    weight:                         88 ton;
                    tractive_effort_coefficient:    0.25;
                    air_drag_coefficient:           0.01;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 0;

                    // Costs
                    cost_factor:                    8;
                    refit_cost:                     0;
                    running_cost_base:              RUNNING_COST_ELECTRIC;
                    running_cost_factor:            128;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }
       
                graphics {
                    default:                        sw_graphic_LONGER_K8X00_KNR;
                    articulated_part:               sw_articulated_part_LONGER_K8X00_KNR;
                    length:                         sw_length_LONGER_K8X00_KNR;
                    purchase:                       set_purchase_LONGER_K8X00_KNR;

                    additional_text:                string(STR_ADDI_KNR);
                }
            }

    // LONGER_K8X00_KORAIL
        // Graphics
            spriteset(set_purchase_LONGER_K8X00_KORAIL, "./Korean_Longer_Train_Set/gfx/LONGER_K8X00.png") {
                tmpl_purchase(0, 40)
            }

            spriteset(set_graphic_LONGER_K8X00_KORAIL, "./Korean_Longer_Train_Set/gfx/LONGER_K8X00.png") {
                tmpl_vehicle(80, 40)
            }

        // Switches

            switch(FEAT_TRAINS, SELF, sw_graphic_LONGER_K8X00_KORAIL, position_in_articulated_veh) {
                1: set_graphic_LONGER_K8X00_KORAIL;
                set_vehicle_empty;
            }            

            switch(FEAT_TRAINS, SELF, sw_length_LONGER_K8X00_KORAIL, position_in_articulated_veh) {
                1: 8;
                2;
            }

            switch(FEAT_TRAINS, SELF, sw_articulated_part_LONGER_K8X00_KORAIL, extra_callback_info1) { // articulated parts
                1..2: ko_LONGER_K8X00_KORAIL;
                CB_RESULT_NO_MORE_ARTICULATED_PARTS;
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_K8X00_KORAIL, 6151) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_K8X00);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(2003, 1, 1);
                    track_type:                     RAIL;
                    engine_class:                   ENGINE_CLASS_ELECTRIC;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    dual_headed:                    0;
                    variant_group:                  ko_LONGER_K8X00_KNR;

                    // Spec
                    speed:                          151*(para_speed_power)/2 km/h;
                    power:                          5200*(para_speed_power)/2 kW;
                    weight:                         88 ton;
                    tractive_effort_coefficient:    0.25;
                    air_drag_coefficient:           0.01;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 0;

                    // Costs
                    cost_factor:                    8;
                    refit_cost:                     0;
                    running_cost_base:              RUNNING_COST_ELECTRIC;
                    running_cost_factor:            128;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    bitmask_vehicle_info:           0;
                }
       
                graphics {
                    default:                        sw_graphic_LONGER_K8X00_KORAIL;
                    articulated_part:               sw_articulated_part_LONGER_K8X00_KORAIL;
                    length:                         sw_length_LONGER_K8X00_KORAIL;
                    purchase:                       set_purchase_LONGER_K8X00_KORAIL;

                    additional_text:                string(STR_ADDI_KORAIL);
                }
            }

// Multiple Unit
    // LONGER_SAEMAEUL_DHC_GOCHUJANG
        // Graphics
            spriteset(set_LONGER_SAEMAEUL_DHC_GOCHUJANG_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_DHC.png") {
                tmpl_purchase(0, 0)
            }

            spriteset(set_graphic_head_LONGER_SAEMAEUL_DHC_GOCHUJANG, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_DHC.png"){
                tmpl_vehicle(80, 0)
            }

            spriteset(set_graphic_first_LONGER_SAEMAEUL_DHC_GOCHUJANG, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_DHC.png"){
                tmpl_vehicle(80, 80)
            }

            spriteset(set_graphic_tail_LONGER_SAEMAEUL_DHC_GOCHUJANG, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_DHC.png"){
                tmpl_vehicle(80, 40)
            }

        // Switches
            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_SAEMAEUL_DHC_GOCHUJANG, position_in_articulated_veh) {
                1: set_graphic_head_LONGER_SAEMAEUL_DHC_GOCHUJANG;
                3: set_graphic_first_LONGER_SAEMAEUL_DHC_GOCHUJANG;
                5: set_graphic_LONGER_SAEMAEUL_STAINLESS_DINING_CAR;
                7: set_graphic_LONGER_SAEMAEUL_STAINLESS_PASSENGER_CAR;
                9: set_graphic_LONGER_SAEMAEUL_STAINLESS_PASSENGER_CAR;
                11: set_graphic_LONGER_SAEMAEUL_STAINLESS_PASSENGER_CAR;
                13: set_graphic_LONGER_SAEMAEUL_STAINLESS_PASSENGER_CAR;
                15: set_graphic_tail_LONGER_SAEMAEUL_DHC_GOCHUJANG;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_SAEMAEUL_DHC_GOCHUJANG, position_in_articulated_veh) {
                1: 20; // #01
                3: 60; // #02
                5: 64; // #03
                7: 64; // #04
                9: 64; // #05
                11: 64; // #06
                13: 64; // #07
                15: 20; // #08
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_SAEMAEUL_DHC_GOCHUJANG, position_in_articulated_veh) {
                1: 8;
                2: 4;
                3: 8;
                4: 4;
                5: 8;
                6: 4;
                7: 8;
                8: 4;
                9: 8;
                10: 4;
                11: 8;
                12: 4;
                13: 8;
                14: 4;
                15: 8;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_SAEMAEUL_DHC_GOCHUJANG, extra_callback_info1) {
                1..16: return ko_LONGER_SAEMAEUL_DHC_GOCHUJANG; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_SAEMAEUL_DHC_GOCHUJANG, 6200) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_SAEMAEUL_DHC);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1987, 1, 1);
                    track_type:                     ELRL;                    
                    engine_class:                   ENGINE_CLASS_ELECTRIC;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    variant_group:                  ko_LONGER_SAEMAEUL_DHC_KNR;

                    // Spec
                    speed:                          151*(para_speed_power)/2 km/h;
                    power:                          2953*(para_speed_power)/2 kW;
                    weight:                         367 ton;
                    tractive_effort_coefficient:    0.1;
                    air_drag_coefficient:           0.01;
                    visual_effect_and_powered:      VISUAL_EFFECT_DISABLE;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 420/16;
                    refittable_cargo_classes:       NO_CARGO_CLASS;
                    non_refittable_cargo_classes:   NO_CARGO_CLASS;
                    cargo_allow_refit:              [PASS];
                    cargo_disallow_refit:           [];
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    24;
                    running_cost_base:              RUNNING_COST_ELECTRIC;
                    running_cost_factor:            96;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_SAEMAEUL_DHC_GOCHUJANG;
                    articulated_part:               sw_articulated_LONGER_SAEMAEUL_DHC_GOCHUJANG;
                    length:                         sw_length_LONGER_SAEMAEUL_DHC_GOCHUJANG;
                    cargo_capacity:                 sw_capacity_LONGER_SAEMAEUL_DHC_GOCHUJANG;
                    purchase:                       set_LONGER_SAEMAEUL_DHC_GOCHUJANG_purchase;
                    purchase_cargo_capacity:        set_LONGER_SAEMAEUL_DHC_GOCHUJANG_purchase;

                    additional_text:                string(STR_ADDI_LONGER_SAEMAEUL_DHC_GOCHUJANG);
                }
            }

    // LONGER_SAEMAEUL_DHC_KNR
        // Graphics
            spriteset(set_LONGER_SAEMAEUL_DHC_KNR_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_DHC.png") {
                tmpl_purchase(0, 120)
            }

            spriteset(set_graphic_head_LONGER_SAEMAEUL_DHC_KNR, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_DHC.png"){
                tmpl_vehicle(80, 120)
            }

            spriteset(set_graphic_first_LONGER_SAEMAEUL_DHC_KNR, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_DHC.png"){
                tmpl_vehicle(80, 200)
            }

            spriteset(set_graphic_tail_LONGER_SAEMAEUL_DHC_KNR, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_DHC.png"){
                tmpl_vehicle(80, 160)
            }

        // Switches
            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_SAEMAEUL_DHC_KNR, position_in_articulated_veh) {
                1: set_graphic_head_LONGER_SAEMAEUL_DHC_KNR;
                3: set_graphic_first_LONGER_SAEMAEUL_DHC_KNR;
                5: set_graphic_LONGER_SAEMAEUL_KNR_DINING_CAR;
                7: set_graphic_LONGER_SAEMAEUL_KNR_PASSENGER_CAR;
                9: set_graphic_LONGER_SAEMAEUL_KNR_PASSENGER_CAR;
                11: set_graphic_LONGER_SAEMAEUL_KNR_PASSENGER_CAR;
                13: set_graphic_LONGER_SAEMAEUL_KNR_PASSENGER_CAR;
                15: set_graphic_tail_LONGER_SAEMAEUL_DHC_KNR;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_SAEMAEUL_DHC_KNR, position_in_articulated_veh) {
                1: 20; // #01
                3: 60; // #02
                5: 64; // #03
                7: 64; // #04
                9: 64; // #05
                11: 64; // #06
                13: 64; // #07
                15: 20; // #08
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_SAEMAEUL_DHC_KNR, position_in_articulated_veh) {
                1: 8;
                2: 4;
                3: 8;
                4: 4;
                5: 8;
                6: 4;
                7: 8;
                8: 4;
                9: 8;
                10: 4;
                11: 8;
                12: 4;
                13: 8;
                14: 4;
                15: 8;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_SAEMAEUL_DHC_KNR, extra_callback_info1) {
                1..16: return ko_LONGER_SAEMAEUL_DHC_KNR; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_SAEMAEUL_DHC_KNR, 6201) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_SAEMAEUL_DHC);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(1996, 1, 1);
                    track_type:                     ELRL;                    
                    engine_class:                   ENGINE_CLASS_ELECTRIC;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    variant_group:                  ko_LONGER_SAEMAEUL_DHC_GOCHUJANG;

                    // Spec
                    speed:                          151*(para_speed_power)/2 km/h;
                    power:                          2953*(para_speed_power)/2 kW;
                    weight:                         367 ton;
                    tractive_effort_coefficient:    0.1;
                    air_drag_coefficient:           0.01;
                    visual_effect_and_powered:      VISUAL_EFFECT_DISABLE;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 420/16;
                    refittable_cargo_classes:       NO_CARGO_CLASS;
                    non_refittable_cargo_classes:   NO_CARGO_CLASS;
                    cargo_allow_refit:              [PASS];
                    cargo_disallow_refit:           [];
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    24;
                    running_cost_base:              RUNNING_COST_ELECTRIC;
                    running_cost_factor:            96;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_SAEMAEUL_DHC_KNR;
                    articulated_part:               sw_articulated_LONGER_SAEMAEUL_DHC_KNR;
                    length:                         sw_length_LONGER_SAEMAEUL_DHC_KNR;
                    cargo_capacity:                 sw_capacity_LONGER_SAEMAEUL_DHC_KNR;
                    purchase:                       set_LONGER_SAEMAEUL_DHC_KNR_purchase;
                    purchase_cargo_capacity:        set_LONGER_SAEMAEUL_DHC_KNR_purchase;

                    additional_text:                string(STR_ADDI_LONGER_SAEMAEUL_DHC_KNR);
                }
            }

    // LONGER_SAEMAEUL_DHC_RB
        // Graphics
            spriteset(set_LONGER_SAEMAEUL_DHC_RB_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_DHC.png") {
                tmpl_purchase(0, 240)
            }

            spriteset(set_graphic_head_LONGER_SAEMAEUL_DHC_RB, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_DHC.png"){
                tmpl_vehicle(80, 240)
            }

            spriteset(set_graphic_first_LONGER_SAEMAEUL_DHC_RB, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_DHC.png"){
                tmpl_vehicle(80, 320)
            }

            spriteset(set_graphic_tail_LONGER_SAEMAEUL_DHC_RB, "./Korean_Longer_Train_Set/gfx/LONGER_SAEMAEUL_DHC.png"){
                tmpl_vehicle(80, 280)
            }

        // Switches
            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_SAEMAEUL_DHC_RB, position_in_articulated_veh) {
                1: set_graphic_head_LONGER_SAEMAEUL_DHC_RB;
                3: set_graphic_first_LONGER_SAEMAEUL_DHC_RB;
                5: set_graphic_LONGER_SAEMAEUL_RB_DINING_CAR;
                7: set_graphic_LONGER_SAEMAEUL_RB_PASSENGER_CAR;
                9: set_graphic_LONGER_SAEMAEUL_RB_PASSENGER_CAR;
                11: set_graphic_LONGER_SAEMAEUL_RB_PASSENGER_CAR;
                13: set_graphic_LONGER_SAEMAEUL_RB_PASSENGER_CAR;
                15: set_graphic_tail_LONGER_SAEMAEUL_DHC_RB;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_SAEMAEUL_DHC_RB, position_in_articulated_veh) {
                1: 20; // #01
                3: 60; // #02
                5: 64; // #03
                7: 64; // #04
                9: 64; // #05
                11: 64; // #06
                13: 64; // #07
                15: 20; // #08
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_SAEMAEUL_DHC_RB, position_in_articulated_veh) {
                1: 8;
                2: 4;
                3: 8;
                4: 4;
                5: 8;
                6: 4;
                7: 8;
                8: 4;
                9: 8;
                10: 4;
                11: 8;
                12: 4;
                13: 8;
                14: 4;
                15: 8;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_SAEMAEUL_DHC_RB, extra_callback_info1) {
                1..16: return ko_LONGER_SAEMAEUL_DHC_RB; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_SAEMAEUL_DHC_RB, 6202) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_SAEMAEUL_DHC);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(2003, 1, 1);
                    track_type:                     ELRL;                    
                    engine_class:                   ENGINE_CLASS_ELECTRIC;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;
                    variant_group:                  ko_LONGER_SAEMAEUL_DHC_GOCHUJANG;

                    // Spec
                    speed:                          151*(para_speed_power)/2 km/h;
                    power:                          2953*(para_speed_power)/2 kW;
                    weight:                         367 ton;
                    tractive_effort_coefficient:    0.1;
                    air_drag_coefficient:           0.01;
                    visual_effect_and_powered:      VISUAL_EFFECT_DISABLE;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 420/16;
                    refittable_cargo_classes:       NO_CARGO_CLASS;
                    non_refittable_cargo_classes:   NO_CARGO_CLASS;
                    cargo_allow_refit:              [PASS];
                    cargo_disallow_refit:           [];
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    24;
                    running_cost_base:              RUNNING_COST_ELECTRIC;
                    running_cost_factor:            96;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_SAEMAEUL_DHC_RB;
                    articulated_part:               sw_articulated_LONGER_SAEMAEUL_DHC_RB;
                    length:                         sw_length_LONGER_SAEMAEUL_DHC_RB;
                    cargo_capacity:                 sw_capacity_LONGER_SAEMAEUL_DHC_RB;
                    purchase:                       set_LONGER_SAEMAEUL_DHC_RB_purchase;
                    purchase_cargo_capacity:        set_LONGER_SAEMAEUL_DHC_RB_purchase;

                    additional_text:                string(STR_ADDI_LONGER_SAEMAEUL_DHC_RB);
                }
            }

    // LONGER_KTX1
        // Graphics
            spriteset(set_LONGER_KTX1_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_KTX1.png") {
                tmpl_purchase(0, 0)
            }

            spriteset(set_graphic_head_LONGER_KTX1, "./Korean_Longer_Train_Set/gfx/LONGER_KTX1.png"){
                tmpl_vehicle(80, 0)
            }

            spriteset(set_graphic_2ndhead_LONGER_KTX1, "./Korean_Longer_Train_Set/gfx/LONGER_KTX1.png"){
                tmpl_vehicle(80, 40)
            }

            spriteset(set_graphic_first_LONGER_KTX1, "./Korean_Longer_Train_Set/gfx/LONGER_KTX1.png"){
                tmpl_vehicle(80, 80)
            }

            spriteset(set_graphic_economy_LONGER_KTX1, "./Korean_Longer_Train_Set/gfx/LONGER_KTX1.png"){
                tmpl_vehicle(80, 120)
            }

            spriteset(set_graphic_economy_R_LONGER_KTX1, "./Korean_Longer_Train_Set/gfx/LONGER_KTX1.png"){
                tmpl_vehicle(80, 160)
            }

            spriteset(set_graphic_2ndtail_LONGER_KTX1, "./Korean_Longer_Train_Set/gfx/LONGER_KTX1.png"){
                tmpl_vehicle(80, 200)
            }

            spriteset(set_graphic_tail_LONGER_KTX1, "./Korean_Longer_Train_Set/gfx/LONGER_KTX1.png"){
                tmpl_vehicle(80, 240)
            }

        // Switches
            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_KTX1, position_in_articulated_veh) {
                1: set_graphic_head_LONGER_KTX1;
                3: set_graphic_2ndhead_LONGER_KTX1;
                5: set_graphic_first_LONGER_KTX1;
                7: set_graphic_first_LONGER_KTX1;
                9: set_graphic_first_LONGER_KTX1;
                11: set_graphic_first_LONGER_KTX1;
                13: set_graphic_economy_LONGER_KTX1;
                15: set_graphic_economy_LONGER_KTX1;
                17: set_graphic_economy_LONGER_KTX1;
                19: set_graphic_economy_LONGER_KTX1;
                21: set_graphic_economy_R_LONGER_KTX1;
                23: set_graphic_economy_R_LONGER_KTX1;
                25: set_graphic_economy_R_LONGER_KTX1;
                27: set_graphic_economy_R_LONGER_KTX1;
                29: set_graphic_economy_R_LONGER_KTX1;
                31: set_graphic_economy_R_LONGER_KTX1;
                33: set_graphic_economy_R_LONGER_KTX1;
                35: set_graphic_economy_R_LONGER_KTX1;
                37: set_graphic_2ndtail_LONGER_KTX1;
                39: set_graphic_tail_LONGER_KTX1;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_KTX1, position_in_articulated_veh) {
                3: 56; // #01
                5: 25; // #02
                7: 35; // #03
                9: 32; // #04
                11: 35; // #05
                13: 56; // #06
                15: 60; // #07
                17: 56; // #08
                19: 60; // #09
                21: 60; // #10
                23: 56; // #11
                25: 60; // #12
                27: 56; // #13
                29: 60; // #14
                31: 56; // #15
                33: 60; // #16
                35: 56; // #17
                37: 56; // #18
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_KTX1, position_in_articulated_veh) {
                1: 8;
                2: 4;
                3: 8;
                4: 4;
                5: 8;
                6: 4;
                7: 8;
                8: 4;
                9: 8;
                10: 4;
                11: 8;
                12: 4;
                13: 8;
                14: 4;
                15: 8;
                16: 4;
                17: 8;
                18: 4;
                19: 8;
                20: 4;
                21: 8;
                22: 4;
                23: 8;
                24: 4;
                25: 8;
                26: 4;
                27: 8;
                28: 4;
                29: 8;
                30: 4;
                31: 8;
                32: 4;
                33: 8;
                34: 4;
                35: 8;
                36: 4;
                37: 8;
                38: 4;
                39: 8;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_KTX1, extra_callback_info1) {
                1..40: return ko_LONGER_KTX1; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_KTX1, 6220) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_KTX1);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(2003, 1, 1);
                    track_type:                     ELRL;                    
                    engine_class:                   ENGINE_CLASS_ELECTRIC;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;

                    // Spec
                    speed:                          301*(para_speed_power)/2 km/h;
                    power:                          13200*(para_speed_power)/2 kW;
                    weight:                         782 ton;
                    tractive_effort_coefficient:    0.1;
                    air_drag_coefficient:           0.01;
                    visual_effect_and_powered:      VISUAL_EFFECT_DISABLE;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 935/40;
                    refittable_cargo_classes:       NO_CARGO_CLASS;
                    non_refittable_cargo_classes:   NO_CARGO_CLASS;
                    cargo_allow_refit:              [PASS];
                    cargo_disallow_refit:           [];
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    24;
                    running_cost_base:              RUNNING_COST_ELECTRIC;
                    running_cost_factor:            96;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_KTX1;
                    articulated_part:               sw_articulated_LONGER_KTX1;
                    length:                         sw_length_LONGER_KTX1;
                    cargo_capacity:                 sw_capacity_LONGER_KTX1;
                    purchase:                       set_LONGER_KTX1_purchase;
                    purchase_cargo_capacity:        set_LONGER_KTX1_purchase;

                    additional_text:                string(STR_ADDI_FIXED_20);
                }
            }

    // LONGER_HEMU_430X
        // Graphics
            spriteset(set_LONGER_HEMU430X_purchase, "./Korean_Longer_Train_Set/gfx/LONGER_HEMU430X.png") {
                tmpl_purchase(0, 0)
            }

            spriteset(set_graphic_vehicle1_LONGER_HEMU430X, "./Korean_Longer_Train_Set/gfx/LONGER_HEMU430X.png"){
                tmpl_vehicle(80, 0)
            }

            spriteset(set_graphic_vehicle2_LONGER_HEMU430X, "./Korean_Longer_Train_Set/gfx/LONGER_HEMU430X.png"){
                tmpl_vehicle(80, 40)
            }

            spriteset(set_graphic_vehicle3_LONGER_HEMU430X, "./Korean_Longer_Train_Set/gfx/LONGER_HEMU430X.png"){
                tmpl_vehicle(80, 80)
            }

            spriteset(set_graphic_vehicle4_LONGER_HEMU430X, "./Korean_Longer_Train_Set/gfx/LONGER_HEMU430X.png"){
                tmpl_vehicle(80, 120)
            }

            spriteset(set_graphic_vehicle5_LONGER_HEMU430X, "./Korean_Longer_Train_Set/gfx/LONGER_HEMU430X.png"){
                tmpl_vehicle(80, 160)
            }

            spriteset(set_graphic_vehicle6_LONGER_HEMU430X, "./Korean_Longer_Train_Set/gfx/LONGER_HEMU430X.png"){
                tmpl_vehicle(80, 200)
            }

            spriteset(set_graphic_vehicle7_LONGER_HEMU430X, "./Korean_Longer_Train_Set/gfx/LONGER_HEMU430X.png"){
                tmpl_vehicle(80, 240)
            }

            spriteset(set_graphic_vehicle8_LONGER_HEMU430X, "./Korean_Longer_Train_Set/gfx/LONGER_HEMU430X.png"){
                tmpl_vehicle(80, 280)
            }

        // Switches
            switch (FEAT_TRAINS, SELF, sw_graphic_LONGER_HEMU430X, position_in_articulated_veh) {
                1: set_graphic_vehicle1_LONGER_HEMU430X;
                3: set_graphic_vehicle2_LONGER_HEMU430X;
                5: set_graphic_vehicle3_LONGER_HEMU430X;
                7: set_graphic_vehicle4_LONGER_HEMU430X;
                9: set_graphic_vehicle5_LONGER_HEMU430X;
                11: set_graphic_vehicle6_LONGER_HEMU430X;
                13: set_graphic_vehicle7_LONGER_HEMU430X;
                15: set_graphic_vehicle8_LONGER_HEMU430X;
                set_vehicle_empty;
            }

            switch (FEAT_TRAINS, SELF, sw_capacity_LONGER_HEMU430X, position_in_articulated_veh) {
                1: 22; // #01
                3: 34; // #02
                5: 55; // #03
                7: 118; // #04
                9: 118; // #05
                11: 18; // #06
                13: 55; // #07
                15: 36; // #08
                0;
            }

            switch (FEAT_TRAINS, SELF, sw_length_LONGER_HEMU430X, position_in_articulated_veh) {
                1: 8;
                2: 4;
                3: 8;
                4: 4;
                5: 8;
                6: 4;
                7: 8;
                8: 4;
                9: 8;
                10: 4;
                11: 8;
                12: 4;
                13: 8;
                14: 4;
                15: 8;
                16: 2;
                2;
            }

            switch (FEAT_TRAINS, SELF, sw_articulated_LONGER_HEMU430X, extra_callback_info1) {
                1..16: return ko_LONGER_HEMU430X; //use same vehicle for all parts
                return CB_RESULT_NO_MORE_ARTICULATED_PARTS; //stop adding vehicle parts
            }

        // General
            item(FEAT_TRAINS, ko_LONGER_HEMU430X, 6230) {
                property {
                    // Common properties
                    name:                           string(STR_NAME_LONGER_HEMU430X);
                    climates_available:             ALL_CLIMATES;
                    introduction_date:              date(2012, 1, 1);
                    track_type:                     ELRL;                    
                    engine_class:                   ENGINE_CLASS_ELECTRIC;
                    sprite_id:                      SPRITE_ID_NEW_TRAIN;

                    // Spec
                    speed:                          421*(para_speed_power)/2 km/h;
                    power:                          9840*(para_speed_power)/2 kW;
                    weight:                         402 ton;
                    tractive_effort_coefficient:    0.2;
                    air_drag_coefficient:           0.01;
                    visual_effect_and_powered:      VISUAL_EFFECT_DISABLE;

                    // Model
                    model_life:                     VEHICLE_NEVER_EXPIRES;
                    vehicle_life:                   30;
                    retire_early:                   0;
                    reliability_decay:              0;

                    // Cargo
                    cargo_capacity:                 456/17;
                    refittable_cargo_classes:       NO_CARGO_CLASS;
                    non_refittable_cargo_classes:   NO_CARGO_CLASS;
                    cargo_allow_refit:              [PASS];
                    cargo_disallow_refit:           [];
                    loading_speed:                  5;

                    // Costs
                    cost_factor:                    24;
                    running_cost_base:              RUNNING_COST_ELECTRIC;
                    running_cost_factor:            96;

                    // Flags
                    ai_special_flag:                AI_FLAG_PASSENGER;
                    misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
                    bitmask_vehicle_info:           0;
                }

                graphics {
                    default:                        sw_graphic_LONGER_HEMU430X;
                    articulated_part:               sw_articulated_LONGER_HEMU430X;
                    length:                         sw_length_LONGER_HEMU430X;
                    cargo_capacity:                 sw_capacity_LONGER_HEMU430X;
                    purchase:                       set_LONGER_HEMU430X_purchase;
                    purchase_cargo_capacity:        set_LONGER_HEMU430X_purchase;

                    additional_text:                string(STR_ADDI_FIXED_8);
                }
            }

// Sort
    sort(FEAT_TRAINS, [
        // ko_LONGER_BIDULGI_DA9_CAR,                                          // 6000
        // ko_LONGER_BIDULGI_OLD_CAR,                                          // 6001
        ko_LONGER_BIDULGI_MILDSTEAL_CAR,                                    // 6002
        ko_LONGER_BIDULGI_KNR_CAR,                                          // 6003
        // ko_LONGER_TONGIL_OLD_CAR,                                           // 6010
        ko_LONGER_TONGIL_MILDSTEAL_CAR,                                     // 6011
        ko_LONGER_TONGIL_KNR_NAVY_CAR,                                      // 6012
        ko_LONGER_TONGIL_KNR_GREEN_CAR,                                     // 6013
        // ko_LONGER_MUGUNGHWA_OLD_CAR,                                        // 6020
        ko_LONGER_MUGUNGHWA_MILDSTEAL_CAR,                                  // 6021
        ko_LONGER_MUGUNGHWA_RY_CAR,                                         // 6022
        ko_LONGER_MUGUNGHWA_RB_CAR,                                         // 6023
        ko_LONGER_SAEMAEUL_MILDSTEAL_CAR,                                   // 6030
        ko_LONGER_SAEMAEUL_STAINLESS_CAR,                                   // 6031
        ko_LONGER_SAEMAEUL_KNR_CAR,                                         // 6032
        ko_LONGER_SAEMAEUL_RB_CAR,                                          // 6033

        // ko_LONGER_CONTAINER_FLAT_CAR,                                       // 6040
        // ko_LONGER_GONDOLA_CAR,                                              // 6045
        // ko_LONGER_BOX_CAR,                                                  // 6050
        // ko_LONGER_BAGGAGE_CAR,                                              // 6055
        // ko_LONGER_TANK_CAR,                                                 // 6060
        // ko_LONGER_STAKE_CAR,                                                // 6065
        // ko_LONGER_MAIL_CAR,                                                 // 6070

        ko_LONGER_PASHI5,                                                   // 6100
        ko_LONGER_K7000_MILK,                                               // 6110
        ko_LONGER_K7000_KNR,                                                // 6111
        ko_LONGER_K7000_KORAIL,                                             // 6112
        ko_LONGER_K7X00_GWANGWANGHO,                                        // 6120
        ko_LONGER_K7X00_MILK,                                               // 6121
        ko_LONGER_K7X00_TIGER,                                              // 6122
        ko_LONGER_K7X00_KNR,                                                // 6123
        ko_LONGER_K7X00_KORAIL,                                             // 6124
        // ko_LONGER_K7X00_FREIGHT,                                            // 6125        
        // ko_LONGER_K7600_FREIGHT,                                            // 6130
        // ko_LONGER_K8000_MILK,                                               // 6140
        // ko_LONGER_K8000_KNR,                                                // 6141
        // ko_LONGER_K8000_KORAIL,                                             // 6142
        ko_LONGER_K8X00_KNR,                                                // 6150
        ko_LONGER_K8X00_KORAIL,                                             // 6151
        // ko_LONGER_K8500_KORAIL,                                             // 6155

        ko_LONGER_SAEMAEUL_DHC_GOCHUJANG,                                   // 6200
        ko_LONGER_SAEMAEUL_DHC_KNR,                                         // 6201
        ko_LONGER_SAEMAEUL_DHC_RB,                                          // 6202
        // ko_LONGER_NURIRO,                                                   // 6205
        // ko_LONGER_ITX_SAEMAEUL,                                             // 6210
        // ko_LONGER_ITX_MAUM,                                                 // 6215
        ko_LONGER_KTX1,                                                     // 6220
        ko_LONGER_HEMU430X,                                                 // 6230
    ]);